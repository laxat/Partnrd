{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from\"react\";import{useHistory}from\"react-router-dom\";import Button from\"@material-ui/core/Button\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogContentText from\"@material-ui/core/DialogContentText\";import DialogTitle from\"@material-ui/core/DialogTitle\";import IconButton from\"@material-ui/core/IconButton\";import DeleteIcon from\"@material-ui/icons/Delete\";import EditIcon from\"@material-ui/icons/Edit\";import axios from\"axios\";import SLUGS from\"../../../resources/slugs\";import{Input}from\"reactstrap\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function AlertDialog(_ref){var info=_ref.info,title=_ref.title;var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),open=_React$useState2[0],setOpen=_React$useState2[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{className:\"popup-button\",variant:\"text\",onClick:handleClickOpen,children:/*#__PURE__*/_jsx(\"h6\",{children:title})}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:title}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{id:\"alert-dialog-description\",children:info})}),/*#__PURE__*/_jsx(DialogActions,{children:/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",autoFocus:true,children:\"Ok\"})})]})]});}export function DeleteDialog(_ref2){var config=_ref2.config,api=_ref2.api;var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),open=_React$useState4[0],setOpen=_React$useState4[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var _useHistory=useHistory(),push=_useHistory.push;var deleteAgreement=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.delete(api,config).then(function(res){// console.log(res)\nsetOpen(false);push(SLUGS.agreements);}).catch(function(err){// console.log(err);\n//push(SLUGS.agreements);\nsetOpen(false);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function deleteAgreement(){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"delete\",onClick:handleClickOpen,children:/*#__PURE__*/_jsx(DeleteIcon,{})}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Delete Agreement?\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(DialogContentText,{id:\"alert-dialog-description\",children:\"Are you sure you want to delete this agreement?\"})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",autoFocus:true,children:\"No\"}),/*#__PURE__*/_jsx(Button,{onClick:deleteAgreement,color:\"primary\",autoFocus:true,children:\"Yes\"})]})]})]});}export function EditDialog(_ref4){var api=_ref4.api,config=_ref4.config,agreeName=_ref4.agreeName,getData=_ref4.getData;var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),open=_React$useState6[0],setOpen=_React$useState6[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var editAgreement=/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.put(api,{name:agreeName},config).then(function(res){// console.log(res);\nsetOpen(false);getData();}).catch(function(err){// console.log(err);\n//push(SLUGS.agreements);\nsetOpen(false);});case 2:case\"end\":return _context2.stop();}}},_callee2);}));return function editAgreement(){return _ref5.apply(this,arguments);};}();var handleInput=function handleInput(e){agreeName=e.target.value;};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"delete\",onClick:handleClickOpen,children:/*#__PURE__*/_jsx(EditIcon,{})}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"form-dialog-title\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"form-dialog-title\",children:\"Edit Agreement\"}),/*#__PURE__*/_jsxs(DialogContent,{children:[/*#__PURE__*/_jsx(DialogContentText,{children:\"Fill the text field below to edit this agreement\"}),/*#__PURE__*/_jsx(Input,{required:true,autoFocus:true,margin:\"dense\",id:\"agree-name\",label:\"Agreement Name\",type:\"text\",defaultValue:agreeName,onChange:function onChange(e){return handleInput(e);}})]}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:editAgreement,color:\"primary\",children:\"Submit\"})]})]})]});}","map":{"version":3,"sources":["C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/src/pages/Templates/ShareAgreement/Info.js"],"names":["React","useHistory","Button","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","IconButton","DeleteIcon","EditIcon","axios","SLUGS","Input","AlertDialog","info","title","useState","open","setOpen","handleClickOpen","handleClose","DeleteDialog","config","api","push","deleteAgreement","delete","then","res","agreements","catch","err","EditDialog","agreeName","getData","editAgreement","put","name","handleInput","e","target","value"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport axios from \"axios\";\r\nimport SLUGS from \"../../../resources/slugs\";\r\nimport { Input } from \"reactstrap\";\r\n\r\nexport default function AlertDialog({ info, title }){\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Button className=\"popup-button\" variant=\"text\"  onClick={handleClickOpen}>\r\n        <h6>{title}</h6>\r\n      </Button>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">\r\n          {title}\r\n        </DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            {info}\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\" autoFocus>\r\n            Ok\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function DeleteDialog({config, api}) {\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const { push } = useHistory();\r\n\r\n  const deleteAgreement = async () => {\r\n    await axios\r\n    .delete(api, config)\r\n      .then((res) => {\r\n        // console.log(res)\r\n        setOpen(false);\r\n        push(SLUGS.agreements);\r\n      })\r\n      .catch((err) => {\r\n        // console.log(err);\r\n        //push(SLUGS.agreements);\r\n        setOpen(false); \r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <IconButton aria-label=\"delete\" onClick={handleClickOpen}>\r\n        <DeleteIcon />\r\n      </IconButton>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"alert-dialog-title\"\r\n        aria-describedby=\"alert-dialog-description\"\r\n      >\r\n        <DialogTitle id=\"alert-dialog-title\">Delete Agreement?</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText id=\"alert-dialog-description\">\r\n            Are you sure you want to delete this agreement?\r\n          </DialogContentText>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\" autoFocus>\r\n            No\r\n          </Button>\r\n          <Button onClick={deleteAgreement} color=\"primary\" autoFocus>\r\n            Yes\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport function EditDialog({api, config, agreeName, getData})\r\n{\r\n  const [open, setOpen] = React.useState(false);\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const editAgreement = async () => {\r\n    await axios\r\n      .put(api, {name: agreeName}, config)\r\n      .then((res) => {\r\n        // console.log(res);\r\n        setOpen(false);\r\n        getData(); \r\n      })\r\n      .catch((err) => {\r\n        // console.log(err);\r\n        //push(SLUGS.agreements);\r\n        setOpen(false);\r\n      });\r\n  };\r\n\r\n  const handleInput = (e) => {\r\n    agreeName = e.target.value; \r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <IconButton aria-label=\"delete\" onClick={handleClickOpen}>\r\n        <EditIcon/>\r\n      </IconButton>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"form-dialog-title\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">Edit Agreement</DialogTitle>\r\n        <DialogContent>\r\n          <DialogContentText>\r\n            Fill the text field below to edit this agreement\r\n          </DialogContentText>\r\n          <Input\r\n            required\r\n            autoFocus\r\n            margin=\"dense\"\r\n            id=\"agree-name\"\r\n            label=\"Agreement Name\"\r\n            type=\"text\"\r\n            defaultValue={agreeName}\r\n            onChange={(e) => handleInput(e)}\r\n          />\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button onClick={handleClose} color=\"primary\">\r\n            Cancel\r\n          </Button>\r\n          <Button onClick={editAgreement} color=\"primary\">\r\n            Submit\r\n          </Button>\r\n        </DialogActions>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}"]},"metadata":{},"sourceType":"module"}