{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\Partnr\\\\partnrd\\\\partnrd_frontend\\\\src\\\\pages\\\\SupportTickets\\\\CreateTicket.js\",\n    _s = $RefreshSig$();\n\nimport { FormGroup, Input } from \"reactstrap\";\nimport React from \"react\";\nimport { Row } from \"simple-flexbox\";\nimport { useForm } from \"react-hook-form\";\nimport axios from \"axios\";\nimport SLUGS from \"../../resources/slugs\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CreateTicket() {\n  _s();\n\n  const {\n    push\n  } = useHistory();\n  const methods = useForm();\n\n  const onSubmit = data => {\n    console.log(JSON.stringify(data, null, 2));\n    sendData(data);\n  };\n\n  const sendData = async data => {\n    const token = sessionStorage.getItem(\"xrsf\");\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const api = `${process.env.REACT_APP_API}/api/tickets`;\n    const d = {\n      title: data.ticket_title,\n      description: data.ticket_desc,\n      priority: data.ticket_priority\n    };\n    await axios.post(api, config, d).then(res => {\n      push(SLUGS.thanksPage);\n    }).catch(err => {\n      console.log(err);\n      push(SLUGS.supportTickets);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"smallForm\",\n      onSubmit: methods.handleSubmit(onSubmit),\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Create Support Ticket\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"What is your problem?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          required: true,\n          type: \"text\",\n          name: \"ticket_title\",\n          innerRef: methods.register\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Can you describe what the issue is?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          required: true,\n          type: \"textarea\",\n          name: \"ticket_desc\",\n          innerRef: methods.register\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"How serious is this problem\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          required: true,\n          type: \"select\",\n          name: \"ticket_priority\",\n          innerRef: methods.register,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"LOW\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"MEDIUM\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"HIGH\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        horizontal: \"center\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Create Support Ticket\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 9\n  }, this);\n}\n\n_s(CreateTicket, \"ZGOR9J2jjZv8J+ueEQdoiG/FlS4=\", false, function () {\n  return [useHistory, useForm];\n});\n\n_c = CreateTicket;\nexport default CreateTicket;\n\nvar _c;\n\n$RefreshReg$(_c, \"CreateTicket\");","map":{"version":3,"sources":["C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/src/pages/SupportTickets/CreateTicket.js"],"names":["FormGroup","Input","React","Row","useForm","axios","SLUGS","useHistory","CreateTicket","push","methods","onSubmit","data","console","log","JSON","stringify","sendData","token","sessionStorage","getItem","config","headers","Authorization","api","process","env","REACT_APP_API","d","title","ticket_title","description","ticket_desc","priority","ticket_priority","post","then","res","thanksPage","catch","err","supportTickets","handleSubmit","register"],"mappings":"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","sourcesContent":["import { FormGroup, Input } from \"reactstrap\";\r\nimport React from \"react\"; \r\nimport { Row } from \"simple-flexbox\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport axios from \"axios\";\r\nimport SLUGS from \"../../resources/slugs\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction CreateTicket() \r\n{\r\n    const {push} =  useHistory(); \r\n    const methods = useForm(); \r\n\r\n    const onSubmit = (data) => {\r\n        console.log(JSON.stringify(data, null, 2));\r\n        sendData(data);  \r\n    }\r\n\r\n    const sendData = async (data) => {\r\n\r\n        const token = sessionStorage.getItem(\"xrsf\");\r\n        const config = {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n        };\r\n\r\n        const api = `${process.env.REACT_APP_API}/api/tickets`; \r\n\r\n        const d = {\r\n            title: data.ticket_title, \r\n            description: data.ticket_desc, \r\n            priority: data.ticket_priority\r\n        }; \r\n\r\n        await axios.post(api, config, d)\r\n        .then((res) => {\r\n            push(SLUGS.thanksPage); \r\n        })\r\n        .catch((err) => {\r\n            console.log(err)\r\n            push(SLUGS.supportTickets)\r\n        })\r\n\r\n    }\r\n\r\n    return(\r\n        <div>\r\n            <form className=\"smallForm\" onSubmit={methods.handleSubmit(onSubmit)}>\r\n                <h2>Create Support Ticket</h2>\r\n                <FormGroup>\r\n                    <label>What is your problem?</label>\r\n                    <Input\r\n                        required\r\n                        type=\"text\"\r\n                        name=\"ticket_title\"\r\n                        innerRef={methods.register}\r\n                    />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    <label>Can you describe what the issue is?</label>\r\n                    <Input \r\n                        required\r\n                        type=\"textarea\"\r\n                        name=\"ticket_desc\"\r\n                        innerRef={methods.register}\r\n                    />\r\n                </FormGroup>\r\n                <FormGroup>\r\n                    <label>How serious is this problem</label>\r\n                    <Input\r\n                        required\r\n                        type=\"select\"\r\n                        name=\"ticket_priority\"\r\n                        innerRef={methods.register}\r\n                    >\r\n                    <option>LOW</option>\r\n                    <option>MEDIUM</option>\r\n                    <option>HIGH</option>\r\n                    </Input>\r\n                </FormGroup>\r\n                <Row horizontal=\"center\">\r\n                <button type=\"submit\">Create Support Ticket</button>\r\n                </Row>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CreateTicket; "]},"metadata":{},"sourceType":"module"}