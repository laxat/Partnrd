{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _objectSpread from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject;import React,{useState}from\"react\";import{useForm,FormProvider}from\"react-hook-form\";import{Input,FormGroup,Label,Tooltip,InputGroupAddon,InputGroupText}from\"reactstrap\";import styled from\"styled-components\";import axios from\"axios\";import{useHistory}from\"react-router-dom\";import{SharesTable,FoundersTable}from\"./Table\";import SLUGS from\"../../../resources/slugs\";import{createUseStyles}from\"react-jss\";import{BsInfoCircleFill as InfoIcon}from\"react-icons/bs\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Styles=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  padding: 0.8rem;\\n\\n  label {\\n\\n    margin-top: 10px\\n    margin-bottom: 10px;\\n  }\\n  table {\\n    border-spacing: 0;\\n    border: 1px solid black;\\n\\n    tr {\\n      :last-child {\\n        td {\\n          border-bottom: 0;\\n        }\\n      }\\n    }\\n\\n    th,\\n    td {\\n      color: palevioletred\\n      margin: 0;\\n      padding: 0.8rem;\\n      border-top: 1px solid black;\\n      border-bottom: 1px solid black;\\n      border-right: 1px solid black;\\n\\n      :last-child {\\n        border-right: 0;\\n      }\\n\\n      Input {\\n        font-size: 0.9rem;\\n        padding: 0;\\n        margin-top: 10px;\\n        margin-bottom: 10px;\\n        border: 2;\\n      }\\n    }\\n  }\\n\\n\"])));var useStyles=createUseStyles({iconSize:{fontSize:15,marginBottom:3},spacing:{marginTop:5,marginBottom:2,marginRight:5}});function ShareAgreement(){var methods=useForm();var methods1=useForm();var methods2=useForm();var methods3=useForm();var methods4=useForm();var _useHistory=useHistory(),push=_useHistory.push;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),mergeData=_useState2[0],setMergeData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),directData=_useState4[0],setDirectData=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),step=_useState6[0],setStep=_useState6[1];var _useState7=useState({type:\"\",message:\"\"}),_useState8=_slicedToArray(_useState7,2),error=_useState8[0],setError=_useState8[1];var _useState9=useState([{shareID:1,shareName:\"\",shareClass:\"Class A\",shareType:\"Common\",shareTotal:0}]),_useState10=_slicedToArray(_useState9,2),shareInfo=_useState10[0],setShareInfo=_useState10[1];var _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),optOut=_useState12[0],setOptOut=_useState12[1];var _useState13=useState([{id:1,selected:false}]),_useState14=_slicedToArray(_useState13,2),shareList=_useState14[0],setShareList=_useState14[1];var _useState15=useState({value:50}),_useState16=_slicedToArray(_useState15,2),control=_useState16[0],setControl=_useState16[1];var _useState17=useState([{personID:1,fname:\"\",preferredName:\"\",role:\"Founder\",streetName:\"\",cityName:\"\",provinceName:\"\",postalCode:\"\",phone:\"\",email:\"\",isCorp:false,onBoard:false,corpName:\"\",shareinfo:[{refId:1,numHeld:0}]}]),_useState18=_slicedToArray(_useState17,2),founderInfo=_useState18[0],setFounderInfo=_useState18[1];var idata=\"shareinfo[\".concat(0,\"]\");var _useState19=useState([[{name:idata,index:0,refID:1,numHeld:0}]]),_useState20=_slicedToArray(_useState19,2),inputList=_useState20[0],setInputList=_useState20[1];var createAgreement=\"\".concat(process.env.REACT_APP_API,\"/api/agreements\");var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(data){var item,_item,shares,persons,errors,i,shareTotal,j,num,e,_item2,d,_e,_item3,direct,finalData,_e2,_finalData;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:if(step===0){item=_toConsumableArray(mergeData);item[0]=data;setMergeData(item);setStep(1);}if(step===1){_item=_toConsumableArray(mergeData);_item[1]=data;setMergeData(_item);setStep(2);}if(step===2){console.log(data);setError({});shares=mergeData[1].shareInfo;persons=data.founderInfo;errors=[];for(i=0;i<shares.length;i++){shareTotal=0;for(j=0;j<persons.length;j++){if(persons[j].shareinfo[i]){num=parseInt(persons[j].shareinfo[i].numHeld);shareTotal+=num;}}if(shares[i].shareTotal<shareTotal){console.log(\"PANIC\");errors.push(shareTotal);e={};e.type=\"numHeld\";e.message=\"numHeld of a share must  be less than the total shares\";setError(e);}}if(errors.length===0){setError({});_item2=_toConsumableArray(mergeData);_item2[2]=data;setMergeData(_item2);d=_toConsumableArray(directData);d=[];data.founderInfo.map(function(x){if(x.onBoard){d.push({personID:x.personID,name:x.fname,shareinfo:x.shareinfo,nominee:\"Founder\",quorum:0});}});setDirectData(d);setStep(3);}}if(step===3){setError({});setOptOut(false);if(data.majorityControl<1||data.majorityControl>100){_e={};_e.type=\"control\";_e.message=\"Majority Control must be a valid percentage between 1 and 100\";setError(_e);}else{_item3=_toConsumableArray(mergeData);_item3[3]={control:control.value};setMergeData(_item3);setStep(4);}}if(step===4){setError({});methods4.unregister(\"lawyer\");console.log(data);if(optOut===false){if(data.quorum<=directData.length){console.log(directData);direct={directInfo:[]};directData.map(function(x,i){direct.directInfo[i]={name:x.name,personID:x.personID,nominee:x.nominee,shareinfo:x.shareinfo,quorum:data.quorum};});finalData=_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},mergeData[0]),mergeData[1]),mergeData[2]),mergeData[3]),direct),{},{optOut:false});console.log(JSON.stringify(finalData,null,2));sendData(finalData);}else{_e2={};console.log(\"Here\");_e2.type=\"quorum\";_e2.message=\"Quorum must be less than or equal to number of directors\";setError(_e2);}}else{_finalData=_objectSpread(_objectSpread(_objectSpread(_objectSpread(_objectSpread({},mergeData[0]),mergeData[1]),mergeData[2]),mergeData[3]),{},{optOut:true});sendData(_finalData);}}case 5:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();var sendData=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(data){var token,config,newData,d;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:console.log(JSON.stringify(data,null,2));token=sessionStorage.getItem(\"xrsf\");config={headers:{Authorization:\"Bearer \".concat(token)}};newData=JSON.parse(localStorage.getItem(\"data\"));d={name:newData.agreeName,data:data};_context2.next=7;return axios.post(createAgreement,d,config).then(function(res){console.log(res);localStorage.removeItem(\"shareData\");push(SLUGS.createShare+res.data.id);});case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function sendData(_x2){return _ref2.apply(this,arguments);};}();var shareColumns=[{Header:\"Reference #\",id:\"shareHeader\",columns:[{Header:/*#__PURE__*/_jsx(HeaderComponent,{title:\"Share ID\",info:\"Share ID for better access to share information\",id:\"shareID\"}),accessor:\"refNum\",id:\"refNum\"}]},{Header:\"Share Information\",columns:[{Header:/*#__PURE__*/_jsx(HeaderComponent,{title:\"Share Name\",info:\"What is the name of the share?\",id:\"share2\"}),accessor:\"shareName\",id:\"ShareNum\"},{Header:/*#__PURE__*/_jsx(HeaderComponent,{title:\"Share Class\",info:\"What is the class of the share?\",id:\"share3\"}),accessor:\"shareClass\",id:\"ShareClass\"},{Header:/*#__PURE__*/_jsx(HeaderComponent,{title:\"Share Type\",info:\"What type fo share is the currently being referred to\",id:\"share4\"}),accessor:\"shareType\",id:\"ShareType\"},{Header:/*#__PURE__*/_jsx(HeaderComponent,{title:\"Share Total\",info:\"What are the total amount of shares this company currently has?\",id:\"share5\"}),accessor:\"shareTotal\",id:\"ShareTotal\"}]}];var founderColumns=[{Header:\"Shares Held\",accessor:\"sharesHeld\"},{Header:\"Personal Information\",id:\"personID\"},{Header:\"Contact Information\",id:\"contact\"}];return/*#__PURE__*/_jsxs(\"div\",{children:[step===0&&/*#__PURE__*/_jsx(FormProvider,_objectSpread(_objectSpread({},methods),{},{children:/*#__PURE__*/_jsxs(\"form\",{className:\"mediumForm\",onSubmit:methods.handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Agreement\"}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(HeaderComponent,{title:\"What is your company's Name?\",info:\"Write Down Legal Company name, or Company you represent\",id:\"compName\"}),/*#__PURE__*/_jsx(Input,{required:true,type:\"text\",name:\"companyName\",innerRef:methods.register}),/*#__PURE__*/_jsx(HeaderComponent,{title:\"Who is your Company's main contact?\",info:\"Enter the Full Legal Name of you Company's main contact\",id:\"compContact\"}),/*#__PURE__*/_jsx(Input,{required:true,type:\"text\",name:\"companyContact\",innerRef:methods.register}),/*#__PURE__*/_jsx(HeaderComponent,{title:\"What is your company's fax number\",info:\"Enter the company Fax contact\",id:\"compFax\"}),/*#__PURE__*/_jsx(Input,{required:true,type:\"tel\",name:\"companyFax\",innerRef:methods.register}),/*#__PURE__*/_jsx(HeaderComponent,{title:\"What is your company's place of incorporation?\",info:\"Is you Company located in Greater Canada or Ontario\",id:\"compPlace\"}),/*#__PURE__*/_jsxs(Input,{required:true,type:\"select\",name:\"companyPlace\",innerRef:methods.register,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Canada\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Ontario\"})]}),/*#__PURE__*/_jsx(HeaderComponent,{title:\"When was your company incorporated?\",info:\"When was your company founded?\",id:\"compDate\"}),/*#__PURE__*/_jsx(Input,{required:true,type:\"date\",name:\"companyDate\",innerRef:methods.register}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:methods.handleSubmit(onSubmit),children:\"Next Step\"})]})]})})),step===1&&/*#__PURE__*/_jsx(FormProvider,_objectSpread(_objectSpread({},methods1),{},{children:/*#__PURE__*/_jsxs(\"form\",{className:\"largeForm\",onSubmit:methods1.handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Agreement\"}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"sTable\",children:\"What Does Your Company Have?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"Table\",children:/*#__PURE__*/_jsx(Styles,{children:/*#__PURE__*/_jsx(SharesTable,{columns:shareColumns,ref:methods1.register,data:shareInfo,setData:setShareInfo,methods:methods1,shareList:shareList,setShareList:setShareList})})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setStep(0);},children:\"Go Back\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:methods1.handleSubmit(onSubmit),children:\"Next Step\"})]})]})})),step===2&&/*#__PURE__*/_jsx(FormProvider,_objectSpread(_objectSpread({},methods2),{},{children:/*#__PURE__*/_jsxs(\"form\",{className:\"largeForm\",onSubmit:methods2.handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Agreement\"}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{children:\"Who are the Stakeholders?\"}),error&&error.type&&error.type===\"numHeld\"&&/*#__PURE__*/_jsx(\"p\",{children:error.message}),/*#__PURE__*/_jsx(\"div\",{className:\"Table\",children:/*#__PURE__*/_jsx(Styles,{children:/*#__PURE__*/_jsx(FoundersTable,{columns:founderColumns,data:founderInfo,ref:methods2.register,methods:methods2,setData:setFounderInfo,shareData:shareInfo,inputList:inputList,setInputList:setInputList})})}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setStep(1);},children:\"Go Back\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:methods2.handleSubmit(onSubmit),children:\"Next Step\"})]})]})})),step===3&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(FormProvider,_objectSpread(_objectSpread({},methods4),{},{children:/*#__PURE__*/_jsxs(\"form\",{className:\"mediumForm\",onSubmit:methods4.handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Agreement\"}),/*#__PURE__*/_jsx(ControlQuest,{methods:methods4,data:control,setData:setControl}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setStep(2);},children:\"Go Back\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",onClick:methods2.handleSubmit(onSubmit),children:\"Next Step\"})]})}))}),step===4&&/*#__PURE__*/_jsx(FormProvider,_objectSpread(_objectSpread({},methods3),{},{children:/*#__PURE__*/_jsxs(\"form\",{className:\"mediumForm\",onSubmit:methods3.handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create Agreement\"}),/*#__PURE__*/_jsxs(Styles,{children:[/*#__PURE__*/_jsx(DirectorsQuest,{data:directData,setData:setDirectData,optOut:optOut,setOptOut:setOptOut,methods:methods3}),error&&error.type&&error.type===\"quorum\"&&/*#__PURE__*/_jsx(\"p\",{children:error.message})]}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setStep(3);},children:\"Go Back\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",children:\"Finish\"})]})}))]});}export default ShareAgreement;export function HeaderComponent(_ref3){var title=_ref3.title,info=_ref3.info,id=_ref3.id;var classes=useStyles();var _useState21=useState(false),_useState22=_slicedToArray(_useState21,2),tooltipOpen=_useState22[0],setTooltipOpen=_useState22[1];var toggle=function toggle(){return setTooltipOpen(!tooltipOpen);};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{className:classes.spacing,children:[title,\"  \"]}),/*#__PURE__*/_jsx(InfoIcon,{className:classes.iconSize,id:id}),/*#__PURE__*/_jsx(Tooltip,{placement:\"top\",isOpen:tooltipOpen,target:id,toggle:toggle,children:info})]});}var DirectorsQuest=/*#__PURE__*/React.forwardRef(function(_ref4,ref){var data=_ref4.data,optOut=_ref4.optOut,methods=_ref4.methods,setData=_ref4.setData,setOptOut=_ref4.setOptOut;var directData=_toConsumableArray(data);var handleDirectChange=function handleDirectChange(i,e){var _e$target=e.target,id=_e$target.id,value=_e$target.value;var list=_toConsumableArray(data);list[i][id]=value;setData(list);};return directData.length>0?/*#__PURE__*/_jsxs(\"div\",{children:[directData.map(function(x,i){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"label\",{children:[\"Director \",i+1,\" is \",x.name,\" nominated by the\"]}),/*#__PURE__*/_jsxs(Input,{required:true,id:\"nominee\",name:\"directorInfo[\".concat(i,\"][nominee]\"),type:\"select\",onChange:function onChange(e){return handleDirectChange(i,e);},value:data[i].nominee,innerRef:methods.register,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Founder\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Common\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Preferred\"})]})]},i);}),/*#__PURE__*/_jsx(\"label\",{children:\"What is the minimum number of Directors required to reach quorum?\"}),/*#__PURE__*/_jsx(Input,{required:true,type:\"number\",name:\"quorum\",innerRef:methods.register})]}):/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"You have not selected any directors, Do you wish to opt out\"}),!optOut&&/*#__PURE__*/_jsx(\"button\",{required:true,onClick:function onClick(){return setOptOut(true);},children:\"Opt out\"}),optOut&&/*#__PURE__*/_jsx(\"p\",{children:\"You have chosen to opt out\"})]});});var ControlQuest=function ControlQuest(_ref5,props){var methods=_ref5.methods,data=_ref5.data,setData=_ref5.setData;var numChange=methods.watch(\"change\",props.change);var numLawyers=methods.watch(\"lawyer\",props.lawyer);var handleControlChange=function handleControlChange(e){setData({value:e.target.value});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"yes\",children:\"Would you like to change this number?\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"change\",value:1,ref:methods.register}),/*#__PURE__*/_jsx(\"label\",{style:{paddingLeft:10,paddingRight:10},children:\"Yes\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"change\",value:0,ref:methods.register}),/*#__PURE__*/_jsx(\"label\",{style:{paddingLeft:10},children:\"No\"}),numChange>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Would you like to contact your Lawyer\"}),/*#__PURE__*/_jsxs(\"fieldset\",{id:\"g2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"ask-lawyer\",value:0,name:\"lawyer\",ref:methods.register}),/*#__PURE__*/_jsx(\"label\",{style:{paddingLeft:10,paddingRight:10},children:\"Yes\"}),/*#__PURE__*/_jsx(\"input\",{type:\"radio\",id:\"ask-lawyer\",value:1,name:\"lawyer\",ref:methods.register}),/*#__PURE__*/_jsx(\"label\",{style:{paddingLeft:10},children:\"No\"})]})]}),numChange>0&&numLawyers>0&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u201CControl\\u201D means: (a) with respect to any corporation, the ownership, beneficially and legally of voting securities in the capital of such corporation, to which are attached more than fifty (\",data.value,\"%) of the votes that may be cast to elect the directors of such corporation and such votes are sufficient (if exercised) to elect a majority of the directors; and (b) with respect to a partnership, trust, syndicate, or other entity, actual power or authority to manage and direct the affairs of, or ownership of more than fifty (\",data.value,\"%) of the beneficial interest of such entity.\"]}),/*#__PURE__*/_jsxs(InputGroupAddon,{addonType:\"append\",children:[/*#__PURE__*/_jsx(Input,{name:\"majorityControl\",type:\"number\",min:\"1\",max:\"100\",onChange:function onChange(e){return handleControlChange(e);},value:data.value,innerRef:methods.register({min:1,max:100})}),/*#__PURE__*/_jsx(InputGroupText,{children:\"%\"})]})]})]});};","map":{"version":3,"sources":["C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/src/pages/Templates/ShareAgreement/ShareAgreement.js"],"names":["React","useState","useForm","FormProvider","Input","FormGroup","Label","Tooltip","InputGroupAddon","InputGroupText","styled","axios","useHistory","SharesTable","FoundersTable","SLUGS","createUseStyles","BsInfoCircleFill","InfoIcon","Styles","div","useStyles","iconSize","fontSize","marginBottom","spacing","marginTop","marginRight","ShareAgreement","methods","methods1","methods2","methods3","methods4","push","mergeData","setMergeData","directData","setDirectData","step","setStep","type","message","error","setError","shareID","shareName","shareClass","shareType","shareTotal","shareInfo","setShareInfo","optOut","setOptOut","id","selected","shareList","setShareList","value","control","setControl","personID","fname","preferredName","role","streetName","cityName","provinceName","postalCode","phone","email","isCorp","onBoard","corpName","shareinfo","refId","numHeld","founderInfo","setFounderInfo","idata","name","index","refID","inputList","setInputList","createAgreement","process","env","REACT_APP_API","onSubmit","data","item","console","log","shares","persons","errors","i","length","j","num","parseInt","e","d","map","x","nominee","quorum","majorityControl","unregister","direct","directInfo","finalData","JSON","stringify","sendData","token","sessionStorage","getItem","config","headers","Authorization","newData","parse","localStorage","agreeName","post","then","res","removeItem","createShare","shareColumns","Header","columns","accessor","founderColumns","handleSubmit","register","HeaderComponent","title","info","classes","tooltipOpen","setTooltipOpen","toggle","DirectorsQuest","forwardRef","ref","setData","handleDirectChange","target","list","ControlQuest","props","numChange","watch","change","numLawyers","lawyer","handleControlChange","paddingLeft","paddingRight","min","max"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useForm, FormProvider } from \"react-hook-form\";\r\nimport { Input, FormGroup, Label, Tooltip, InputGroupAddon, InputGroupText } from \"reactstrap\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { SharesTable, FoundersTable } from \"./Table\";\r\nimport SLUGS from \"../../../resources/slugs\";\r\nimport { createUseStyles } from \"react-jss\";\r\nimport { BsInfoCircleFill as InfoIcon } from \"react-icons/bs\";\r\n\r\n\r\nconst Styles = styled.div`\r\n  padding: 0.8rem;\r\n\r\n  label {\r\n\r\n    margin-top: 10px\r\n    margin-bottom: 10px;\r\n  }\r\n  table {\r\n    border-spacing: 0;\r\n    border: 1px solid black;\r\n\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n\r\n    th,\r\n    td {\r\n      color: palevioletred\r\n      margin: 0;\r\n      padding: 0.8rem;\r\n      border-top: 1px solid black;\r\n      border-bottom: 1px solid black;\r\n      border-right: 1px solid black;\r\n\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n\r\n      Input {\r\n        font-size: 0.9rem;\r\n        padding: 0;\r\n        margin-top: 10px;\r\n        margin-bottom: 10px;\r\n        border: 2;\r\n      }\r\n    }\r\n  }\r\n\r\n`;\r\n\r\nconst useStyles = createUseStyles({\r\n  iconSize: {\r\n    fontSize: 15,\r\n    marginBottom: 3,\r\n  },\r\n\r\n  spacing: {\r\n    marginTop: 5,\r\n    marginBottom: 2,\r\n    marginRight: 5,\r\n  },\r\n});\r\n\r\nfunction ShareAgreement() {\r\n  const methods = useForm();\r\n  const methods1 = useForm();\r\n  const methods2 = useForm();\r\n  const methods3 = useForm();\r\n  const methods4 = useForm();\r\n\r\n  const { push } = useHistory();\r\n  const [mergeData, setMergeData] = useState([]);\r\n  const [directData, setDirectData] = useState([]);\r\n  const [step, setStep] = useState(0);\r\n  const [error, setError] = useState({\r\n    type: \"\",\r\n    message: \"\",\r\n  });\r\n  const [shareInfo, setShareInfo] = useState([\r\n    {\r\n      shareID: 1,\r\n      shareName: \"\",\r\n      shareClass: \"Class A\",\r\n      shareType: \"Common\",\r\n      shareTotal: 0,\r\n    },\r\n  ]);\r\n  const [optOut, setOptOut] = useState(false); \r\n  const [shareList, setShareList] = useState([\r\n    {\r\n      id: 1,\r\n      selected: false,\r\n    },\r\n  ]);\r\n  const [control, setControl] = useState({\r\n      value: 50\r\n  })\r\n  const [founderInfo, setFounderInfo] = useState([\r\n    {\r\n      personID: 1,\r\n      fname: \"\",\r\n      preferredName: \"\",\r\n      role: \"Founder\",\r\n      streetName: \"\",\r\n      cityName: \"\",\r\n      provinceName: \"\",\r\n      postalCode: \"\",\r\n      phone: \"\",\r\n      email: \"\",\r\n      isCorp: false,\r\n      onBoard: false,\r\n      corpName: \"\",\r\n      shareinfo: [\r\n        {\r\n          refId: 1,\r\n          numHeld: 0,\r\n        },\r\n      ],\r\n    },\r\n  ]);\r\n\r\n  const idata = `shareinfo[${0}]`;\r\n  const [inputList, setInputList] = useState([\r\n    [{ name: idata, index: 0, refID: 1, numHeld: 0 }],\r\n  ]);\r\n\r\n  const createAgreement = `${process.env.REACT_APP_API}/api/agreements`;\r\n\r\n  const onSubmit = async (data) => {\r\n    if (step === 0) {\r\n      const item = [...mergeData];\r\n      item[0] = data;\r\n      setMergeData(item);\r\n      setStep(1);\r\n    }\r\n    if (step === 1) {\r\n      const item = [...mergeData];\r\n      item[1] = data;\r\n      setMergeData(item);\r\n      setStep(2);\r\n    }\r\n    if (step === 2) {\r\n      console.log(data);\r\n      setError({});\r\n      const shares = mergeData[1].shareInfo;\r\n      const persons = data.founderInfo;\r\n      let errors = [];\r\n\r\n      for (let i = 0; i < shares.length; i++) {\r\n        let shareTotal = 0;\r\n        for (let j = 0; j < persons.length; j++) {\r\n          if (persons[j].shareinfo[i]) {\r\n            var num = parseInt(persons[j].shareinfo[i].numHeld);\r\n            shareTotal += num;\r\n          }\r\n        }\r\n        if (shares[i].shareTotal < shareTotal) {\r\n          console.log(\"PANIC\");\r\n          errors.push(shareTotal);\r\n          let e = {};\r\n          e.type = \"numHeld\";\r\n          e.message = \"numHeld of a share must  be less than the total shares\";\r\n          setError(e);\r\n        }\r\n      }\r\n\r\n      if (errors.length === 0) {\r\n        setError({});\r\n        const item = [...mergeData];\r\n        item[2] = data;\r\n        setMergeData(item);\r\n\r\n        let d = [...directData];\r\n        d = [];\r\n        data.founderInfo.map((x) => {\r\n          if (x.onBoard) {\r\n            d.push({\r\n              personID: x.personID,\r\n              name: x.fname,\r\n              shareinfo: x.shareinfo,\r\n              nominee: \"Founder\",\r\n              quorum: 0,\r\n            });\r\n          }\r\n        });\r\n        setDirectData(d);\r\n        setStep(3);\r\n      }\r\n    }\r\n    if (step === 3)\r\n    {\r\n      setError({});\r\n      setOptOut(false)\r\n      if (data.majorityControl < 1 || data.majorityControl > 100) {\r\n        let e = {};\r\n        e.type = \"control\";\r\n        e.message = \"Majority Control must be a valid percentage between 1 and 100\";\r\n        setError(e);\r\n      }\r\n      else {\r\n        const item = [...mergeData];\r\n        item[3] = { control: control.value };\r\n        setMergeData(item);\r\n        setStep(4)\r\n      }\r\n      \r\n    }\r\n    if (step === 4) {\r\n      setError({ });\r\n      methods4.unregister(\"lawyer\")\r\n      console.log(data);\r\n      if (optOut === false) {\r\n        if (data.quorum <= directData.length) {\r\n          console.log(directData);\r\n          const direct = {\r\n            directInfo: [],\r\n          };\r\n\r\n          directData.map((x, i) => {\r\n            direct.directInfo[i] = {\r\n              name: x.name,\r\n              personID: x.personID,\r\n              nominee: x.nominee,\r\n              shareinfo: x.shareinfo,\r\n              quorum: data.quorum,\r\n            };\r\n          });\r\n\r\n          const finalData = {\r\n            ...mergeData[0],\r\n            ...mergeData[1],\r\n            ...mergeData[2],\r\n            ...mergeData[3],\r\n            ...direct,\r\n            optOut: false\r\n          };\r\n          console.log(JSON.stringify(finalData, null, 2));\r\n          sendData(finalData);\r\n        } else {\r\n          let e = { };\r\n          console.log(\"Here\");\r\n          e.type = \"quorum\";\r\n          e.message = \"Quorum must be less than or equal to number of directors\";\r\n          setError(e);\r\n        }\r\n      } else {\r\n        const finalData = {\r\n          ...mergeData[0],\r\n          ...mergeData[1],\r\n          ...mergeData[2],\r\n          ...mergeData[3], \r\n          optOut: true\r\n        };\r\n        sendData(finalData);\r\n      }\r\n    }\r\n  };\r\n\r\n  const sendData = async (data) => {\r\n    console.log(JSON.stringify(data, null, 2));\r\n    const token = sessionStorage.getItem(\"xrsf\");\r\n    const config = {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    };\r\n\r\n    const newData = JSON.parse(localStorage.getItem(\"data\"));\r\n\r\n    const d = {\r\n      name: newData.agreeName,\r\n      data: data,\r\n    };\r\n\r\n    await axios.post(createAgreement, d, config).then((res) => {\r\n      console.log(res);\r\n      localStorage.removeItem(\"shareData\");\r\n      push(SLUGS.createShare + res.data.id);\r\n    });\r\n  };\r\n  const shareColumns = [\r\n    {\r\n      Header: \"Reference #\",\r\n      id: \"shareHeader\",\r\n      columns: [\r\n        {\r\n          Header: (\r\n            <HeaderComponent\r\n              title=\"Share ID\"\r\n              info=\"Share ID for better access to share information\"\r\n              id=\"shareID\"\r\n            />\r\n          ),\r\n          accessor: \"refNum\",\r\n          id: \"refNum\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      Header: \"Share Information\",\r\n      columns: [\r\n        {\r\n          Header: (\r\n            <HeaderComponent\r\n              title=\"Share Name\"\r\n              info=\"What is the name of the share?\"\r\n              id=\"share2\"\r\n            />\r\n          ),\r\n          accessor: \"shareName\",\r\n          id: \"ShareNum\",\r\n        },\r\n        {\r\n          Header: (\r\n            <HeaderComponent\r\n              title=\"Share Class\"\r\n              info=\"What is the class of the share?\"\r\n              id=\"share3\"\r\n            />\r\n          ),\r\n          accessor: \"shareClass\",\r\n          id: \"ShareClass\",\r\n        },\r\n        {\r\n          Header: (\r\n            <HeaderComponent\r\n              title=\"Share Type\"\r\n              info=\"What type fo share is the currently being referred to\"\r\n              id=\"share4\"\r\n            />\r\n          ),\r\n          accessor: \"shareType\",\r\n          id: \"ShareType\",\r\n        },\r\n        {\r\n          Header: (\r\n            <HeaderComponent\r\n              title=\"Share Total\"\r\n              info=\"What are the total amount of shares this company currently has?\"\r\n              id=\"share5\"\r\n            />\r\n          ),\r\n          accessor: \"shareTotal\",\r\n          id: \"ShareTotal\",\r\n        },\r\n      ],\r\n    }, \r\n  ];\r\n\r\n  const founderColumns = [\r\n    {\r\n      Header: \"Shares Held\",\r\n      accessor: \"sharesHeld\",\r\n    },\r\n\r\n    {\r\n      Header: \"Personal Information\",\r\n      id: \"personID\",\r\n    },\r\n    {\r\n      Header: \"Contact Information\", \r\n      id: \"contact\"\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      {step === 0 && (\r\n        <FormProvider {...methods}>\r\n          <form\r\n            className=\"mediumForm\"\r\n            onSubmit={methods.handleSubmit(onSubmit)}\r\n          >\r\n            <h2>Create Agreement</h2>\r\n            <FormGroup>\r\n              <HeaderComponent\r\n                title=\"What is your company's Name?\"\r\n                info=\"Write Down Legal Company name, or Company you represent\"\r\n                id=\"compName\"\r\n              />\r\n              <Input\r\n                required\r\n                type=\"text\"\r\n                name=\"companyName\"\r\n                innerRef={methods.register}\r\n              />\r\n              <HeaderComponent\r\n                title=\"Who is your Company's main contact?\"\r\n                info=\"Enter the Full Legal Name of you Company's main contact\"\r\n                id=\"compContact\"\r\n              />\r\n              <Input\r\n                required\r\n                type=\"text\"\r\n                name=\"companyContact\"\r\n                innerRef={methods.register}\r\n              />\r\n              <HeaderComponent\r\n                title=\"What is your company's fax number\"\r\n                info=\"Enter the company Fax contact\"\r\n                id=\"compFax\"\r\n              />\r\n              <Input\r\n                required\r\n                type=\"tel\"\r\n                name=\"companyFax\"\r\n                innerRef={methods.register}\r\n              />\r\n              <HeaderComponent\r\n                title=\"What is your company's place of incorporation?\"\r\n                info=\"Is you Company located in Greater Canada or Ontario\"\r\n                id=\"compPlace\"\r\n              />\r\n              <Input\r\n                required\r\n                type=\"select\"\r\n                name=\"companyPlace\"\r\n                innerRef={methods.register}\r\n              >\r\n                <option>Canada</option>\r\n                <option>Ontario</option>\r\n              </Input>\r\n              <HeaderComponent\r\n                title=\"When was your company incorporated?\"\r\n                info=\"When was your company founded?\"\r\n                id=\"compDate\"\r\n              />\r\n              <Input\r\n                required\r\n                type=\"date\"\r\n                name=\"companyDate\"\r\n                innerRef={methods.register}\r\n              />\r\n              <button type=\"submit\" onClick={methods.handleSubmit(onSubmit)}>\r\n                Next Step\r\n              </button>\r\n            </FormGroup>\r\n          </form>\r\n        </FormProvider>\r\n      )}\r\n      {step === 1 && (\r\n        <FormProvider {...methods1}>\r\n          <form\r\n            className=\"largeForm\"\r\n            onSubmit={methods1.handleSubmit(onSubmit)}\r\n          >\r\n            <h2>Create Agreement</h2>\r\n            <FormGroup>\r\n              <Label for=\"sTable\">What Does Your Company Have?</Label>\r\n              <div className=\"Table\">\r\n                <Styles>\r\n                  <SharesTable\r\n                    columns={shareColumns}\r\n                    ref={methods1.register}\r\n                    data={shareInfo}\r\n                    setData={setShareInfo}\r\n                    methods={methods1}\r\n                    shareList={shareList}\r\n                    setShareList={setShareList}\r\n                  />\r\n                </Styles>\r\n              </div>\r\n              <button onClick={() => setStep(0)}>Go Back</button>\r\n              <button type=\"submit\" onClick={methods1.handleSubmit(onSubmit)}>\r\n                Next Step\r\n              </button>\r\n            </FormGroup>\r\n          </form>\r\n        </FormProvider>\r\n      )}\r\n      {step === 2 && (\r\n        <FormProvider {...methods2}>\r\n          <form\r\n            className=\"largeForm\"\r\n            onSubmit={methods2.handleSubmit(onSubmit)}\r\n          >\r\n            <h2>Create Agreement</h2>\r\n            <FormGroup>\r\n              <Label>Who are the Stakeholders?</Label>\r\n              {error && error.type && error.type === \"numHeld\" && (\r\n                <p>{error.message}</p>\r\n              )}\r\n              <div className=\"Table\">\r\n                <Styles>\r\n                  <FoundersTable\r\n                    columns={founderColumns}\r\n                    data={founderInfo}\r\n                    ref={methods2.register}\r\n                    methods={methods2}\r\n                    setData={setFounderInfo}\r\n                    shareData={shareInfo}\r\n                    inputList={inputList}\r\n                    setInputList={setInputList}\r\n                  />\r\n                </Styles>\r\n              </div>\r\n              <button onClick={() => setStep(1)}>Go Back</button>\r\n              <button type=\"submit\" onClick={methods2.handleSubmit(onSubmit)}>\r\n                Next Step\r\n              </button>\r\n            </FormGroup>\r\n          </form>\r\n        </FormProvider>\r\n      )}\r\n      {step === 3 && (\r\n        <div>\r\n          <FormProvider {...methods4}>\r\n            <form\r\n              className=\"mediumForm\"\r\n              onSubmit={methods4.handleSubmit(onSubmit)}\r\n            >\r\n              <h2>Create Agreement</h2>\r\n              <ControlQuest\r\n                methods={methods4}\r\n                data={control}\r\n                setData={setControl}\r\n              />\r\n              <button onClick={() => setStep(2)}>Go Back</button>\r\n              <button type=\"submit\" onClick={methods2.handleSubmit(onSubmit)}>\r\n                Next Step\r\n              </button>\r\n            </form>\r\n          </FormProvider>\r\n        </div>\r\n      )}\r\n      {step === 4 && (\r\n        <FormProvider {...methods3}>\r\n          <form\r\n            className=\"mediumForm\"\r\n            onSubmit={methods3.handleSubmit(onSubmit)}\r\n          >\r\n            <h2>Create Agreement</h2>\r\n            <Styles>\r\n              <DirectorsQuest\r\n                data={directData}\r\n                setData={setDirectData}\r\n                optOut={optOut}\r\n                setOptOut={setOptOut}\r\n                methods={methods3}\r\n              />\r\n\r\n              {error && error.type && error.type === \"quorum\" && (\r\n                <p>{error.message}</p>\r\n              )}\r\n            </Styles>\r\n            <button onClick={() => setStep(3)}>Go Back</button>\r\n            <button type=\"submit\">Finish</button>\r\n          </form>\r\n        </FormProvider>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default ShareAgreement;\r\n\r\nexport function HeaderComponent({ title, info, id }) {\r\n  const classes = useStyles();\r\n  const [tooltipOpen, setTooltipOpen] = useState(false);\r\n\r\n  const toggle = () => setTooltipOpen(!tooltipOpen);\r\n  return (\r\n    <div>\r\n      <label className={classes.spacing}>\r\n        {title}\r\n        {\"  \"}\r\n      </label>\r\n      <InfoIcon className={classes.iconSize} id={id} />\r\n      <Tooltip placement=\"top\" isOpen={tooltipOpen} target={id} toggle={toggle}>\r\n        {info}\r\n      </Tooltip>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst DirectorsQuest = React.forwardRef(\r\n  ({ data, optOut, methods, setData, setOptOut }, ref) => {\r\n    const directData = [...data];\r\n\r\n    const handleDirectChange = (i, e) => {\r\n      const { id, value } = e.target;\r\n      const list = [...data];\r\n      list[i][id] = value;\r\n      setData(list);\r\n    };\r\n    return directData.length > 0 ? (\r\n      <div>\r\n        {directData.map((x, i) => {\r\n          return (\r\n            <div key={i}>\r\n              <label>\r\n                Director {i + 1} is {x.name} nominated by the\r\n              </label>\r\n              <Input\r\n                required\r\n                id=\"nominee\"\r\n                name={`directorInfo[${i}][nominee]`}\r\n                type=\"select\"\r\n                onChange={(e) => handleDirectChange(i, e)}\r\n                value={data[i].nominee}\r\n                innerRef={methods.register}\r\n              >\r\n                <option>Founder</option>\r\n                <option>Common</option>\r\n                <option>Preferred</option>\r\n              </Input>\r\n            </div>\r\n          );\r\n        })}\r\n        <label>\r\n          What is the minimum number of Directors required to reach quorum?\r\n        </label>\r\n\r\n        <Input\r\n          required\r\n          type=\"number\"\r\n          name=\"quorum\"\r\n          innerRef={methods.register}\r\n        />\r\n      </div>\r\n    ) : (\r\n      <div>\r\n        <label>\r\n          You have not selected any directors, Do you wish to opt out\r\n        </label>\r\n        {!optOut && (\r\n          <button required onClick={() => setOptOut(true)}>\r\n            Opt out\r\n          </button>\r\n        )}\r\n          {optOut && (\r\n            <p>You have chosen to opt out</p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nconst ControlQuest = ({ methods, data, setData }, props) => {\r\n\r\n  const numChange = methods.watch(\"change\", props.change);\r\n  const numLawyers = methods.watch(\"lawyer\", props.lawyer);\r\n  \r\n  const handleControlChange = (e) => {\r\n    setData({value: e.target.value})\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <label htmlFor=\"yes\">Would you like to change this number?</label>\r\n      <br />\r\n      <input type=\"radio\" name=\"change\" value={1} ref={methods.register} />\r\n      <label style={{ paddingLeft: 10, paddingRight: 10 }}>Yes</label>\r\n\r\n      <input type=\"radio\" name=\"change\" value={0} ref={methods.register} />\r\n      <label style={{ paddingLeft: 10 }}>No</label>\r\n      {numChange > 0 && (\r\n        <div>\r\n          <label>Would you like to contact your Lawyer</label>\r\n          <fieldset id=\"g2\">\r\n            <input\r\n              type=\"radio\"\r\n              id=\"ask-lawyer\"\r\n              value={0}\r\n              name=\"lawyer\"\r\n              ref={methods.register}\r\n            />\r\n            <label style={{ paddingLeft: 10, paddingRight: 10 }}>Yes</label>\r\n            <input\r\n              type=\"radio\"\r\n              id=\"ask-lawyer\"\r\n              value={1}\r\n              name=\"lawyer\"\r\n              ref={methods.register}\r\n            />\r\n            <label style={{ paddingLeft: 10 }}>No</label>\r\n          </fieldset>\r\n        </div>\r\n      )}\r\n      {numChange > 0 && numLawyers > 0 && (\r\n        <div>\r\n          <p>\r\n            “Control” means: (a) with respect to any corporation, the ownership,\r\n            beneficially and legally of voting securities in the capital of such\r\n            corporation, to which are attached more than fifty (\r\n            {data.value}%) of the votes that may be cast to elect the\r\n            directors of such corporation and such votes are sufficient (if\r\n            exercised) to elect a majority of the directors; and (b) with\r\n            respect to a partnership, trust, syndicate, or other entity, actual\r\n            power or authority to manage and direct the affairs of, or ownership\r\n            of more than fifty ({data.value}%) of the beneficial\r\n            interest of such entity.\r\n          </p>\r\n\r\n          <InputGroupAddon addonType=\"append\">\r\n            <Input\r\n              name=\"majorityControl\"\r\n              type=\"number\"\r\n              min=\"1\"\r\n              max=\"100\"\r\n              onChange={(e) => handleControlChange(e)}\r\n              value={data.value}\r\n              innerRef={methods.register({\r\n                min: 1,\r\n                max: 100,\r\n              })}\r\n            />\r\n            <InputGroupText>%</InputGroupText>\r\n          </InputGroupAddon>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}; \r\n"]},"metadata":{},"sourceType":"module"}