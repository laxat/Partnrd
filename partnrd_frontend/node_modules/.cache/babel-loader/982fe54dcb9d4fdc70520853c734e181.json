{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\Partnr\\\\partnrd\\\\partnrd_frontend\\\\src\\\\pages\\\\Templates\\\\ShareAgreement\\\\ShareAgreement.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useForm, FormProvider, Controller } from \"react-hook-form\";\nimport { Input, FormGroup, Label, Button } from \"reactstrap\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { SharesTable, FoundersTable } from \"./Table\";\nimport \"./test.css\";\nimport SLUGS from \"../../../resources/slugs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Styles = styled.div`\n  padding: 1rem;\n\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      color: palevioletred\n      margin: 0;\n      padding: 0.8rem;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n\n      Input {\n        font-size: 1rem;\n        padding: 0;\n        margin: 0;\n        border: 1;\n      }\n    }\n  }\n\n  .pagination {\n    padding: 0.5rem;\n  }\n`;\n_c = Styles;\nexport function ShareAgreement() {\n  _s();\n\n  const methods = useForm();\n  const methods2 = useForm();\n  const methods3 = useForm();\n  const {\n    push\n  } = useHistory();\n  const [step, setStep] = useState(0);\n  const [shareInfo, setShareInfo] = useState([{\n    shareID: 1,\n    shareName: \"\",\n    shareClass: \"Class A\",\n    shareType: \"Common\",\n    shareTotal: 0\n  }]);\n  const [shareList, setShareList] = useState([{\n    id: 1,\n    selected: false\n  }]);\n  const [founderInfo, setFounderInfo] = useState([{\n    refNum: 1,\n    fname: \"\",\n    preferredName: \"\",\n    role: \"Founder\",\n    streetName: \"\",\n    cityName: \"\",\n    provinceName: \"\",\n    postalCode: \"\",\n    phone: \"\",\n    email: \"\",\n    isCorp: false,\n    onBoard: false,\n    corpName: \"\",\n    shareinfo: [{\n      refId: \"\",\n      numHeld: 0\n    }]\n  }]);\n  const idata = `shareinfo[${0}]`;\n  const [inputList, setInputList] = useState([[{\n    name: idata,\n    index: 0,\n    refID: \"1\",\n    numHeld: 0\n  }]]);\n  const createAgreement = \"http://localhost:8000/api/agreements\";\n\n  const onSubmit = async data => {\n    if (step === 3) {\n      console.log(JSON.stringify(data, null, 2));\n      const token = sessionStorage.getItem(\"xrsf\");\n      const config = {\n        headers: {\n          Authorization: `Bearer ${token}`\n        }\n      };\n      const newData = JSON.parse(localStorage.getItem(\"data\"));\n      const d = {\n        name: newData.agreeName,\n        data: data\n      };\n      localStorage.removeItem(\"shareData\");\n      await axios.post(createAgreement, d, config).then(res => {\n        console.log(res);\n        localStorage.removeItem(\"shareData\");\n        push(SLUGS.createShare + res.data.id);\n      });\n    }\n  };\n\n  const shareColumns = [{\n    Header: \"Reference Info\",\n    columns: [{\n      Header: \"Share ID\",\n      accessor: \"refNum\"\n    }]\n  }, {\n    Header: \"Share Info\",\n    columns: [{\n      Header: \"Share Name\",\n      accessor: \"shareName\"\n    }, {\n      Header: \"Class\",\n      accessor: \"shareClass\"\n    }, {\n      Header: \"Type\",\n      accessor: \"shareType\"\n    }, {\n      Header: \"Total Shares\",\n      accessor: \"shareTotal\"\n    }]\n  }, {\n    Header: \"Actions\",\n    columns: [{\n      Header: \"Add/Delete Row\"\n    }]\n  }];\n  const founderColumns = [{\n    Header: \"Shares Held\",\n    columns: [{\n      Header: \"Share ID\",\n      accessor: \"refID\"\n    }, {\n      Header: \"Amount Held\",\n      accessor: \"numHeld\"\n    }]\n  }, {\n    Header: \"Personal Info\",\n    columns: [{\n      Header: \"Full Name\",\n      id: `fname`,\n      accessor: \"fname\"\n    }, {\n      Header: \"Role\",\n      accessor: \"role\"\n    }, {\n      Header: \"Address\",\n      accessor: \"addressInfo\",\n      width: 180\n    }, {\n      Header: \"Phone Number\",\n      accessor: \"phone\"\n    }, {\n      Header: \"Email(Optional)\",\n      accessor: \"email\"\n    }]\n  }, {\n    Header: \"Corporation Info\",\n    columns: [{\n      Header: \"On the Board of Directors\",\n      accessor: \"isBoard\"\n    }, {\n      Header: \"Corporation Name (If Applicable)\",\n      accessor: \"corpName\"\n    }]\n  }, {\n    Header: \"Actions\",\n    columns: [{\n      Header: \"Add/Delete Row\"\n    }]\n  }];\n  return /*#__PURE__*/_jsxDEV(FormProvider, { ...methods,\n    children: [step === 0 && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: methods.handleSubmit(onSubmit),\n      children: /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"What is your company\\u2019s Name?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"text\",\n          name: \"companyName\",\n          innerRef: methods.register\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          color: \"black\",\n          children: \"What is your company's place of incorporation?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"select\",\n          name: \"companyPlace\",\n          innerRef: methods.register,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Canada\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 260,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Ontario\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 255,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"When was your company incorporated?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 263,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          type: \"date\",\n          name: \"companyDate\",\n          innerRef: methods.register\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 264,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setStep(1),\n          children: \"Next Step\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 9\n    }, this), step === 1 && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: methods2.handleSubmit(onSubmit),\n      children: /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          for: \"sTable\",\n          children: \"What Does Your Company Have?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Table\",\n          children: /*#__PURE__*/_jsxDEV(Styles, {\n            children: /*#__PURE__*/_jsxDEV(SharesTable, {\n              columns: shareColumns,\n              ref: methods.register,\n              data: shareInfo,\n              setData: setShareInfo,\n              methods: methods,\n              shareList: shareList,\n              setShareList: setShareList\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 275,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 273,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setStep(1),\n          children: \"Go Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 286,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setStep(2),\n          children: \"Next Step\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 287,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 9\n    }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: methods3.handleSubmit(onSubmit),\n      children: /*#__PURE__*/_jsxDEV(FormGroup, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Who are the Stakeholders?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 294,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Table\",\n          children: /*#__PURE__*/_jsxDEV(Styles, {\n            children: /*#__PURE__*/_jsxDEV(FoundersTable, {\n              columns: founderColumns,\n              data: founderInfo,\n              ref: methods.register,\n              methods: methods,\n              setData: setFounderInfo,\n              shareData: shareInfo,\n              shareRefs: shareList\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Go Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Next Step\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 245,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ShareAgreement, \"qv69tW+OoyxjpUz9azLApnVHMig=\", false, function () {\n  return [useForm, useForm, useForm, useHistory];\n});\n\n_c2 = ShareAgreement;\nexport default ShareAgreement;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"Styles\");\n$RefreshReg$(_c2, \"ShareAgreement\");","map":{"version":3,"sources":["C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/src/pages/Templates/ShareAgreement/ShareAgreement.js"],"names":["React","useState","useForm","FormProvider","Controller","Input","FormGroup","Label","Button","styled","axios","useHistory","SharesTable","FoundersTable","SLUGS","Styles","div","ShareAgreement","methods","methods2","methods3","push","step","setStep","shareInfo","setShareInfo","shareID","shareName","shareClass","shareType","shareTotal","shareList","setShareList","id","selected","founderInfo","setFounderInfo","refNum","fname","preferredName","role","streetName","cityName","provinceName","postalCode","phone","email","isCorp","onBoard","corpName","shareinfo","refId","numHeld","idata","inputList","setInputList","name","index","refID","createAgreement","onSubmit","data","console","log","JSON","stringify","token","sessionStorage","getItem","config","headers","Authorization","newData","parse","localStorage","d","agreeName","removeItem","post","then","res","createShare","shareColumns","Header","columns","accessor","founderColumns","width","handleSubmit","register"],"mappings":"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","sourcesContent":["import React, { useState} from \"react\";\r\nimport { useForm, FormProvider, Controller } from \"react-hook-form\";\r\nimport { Input, FormGroup, Label, Button } from \"reactstrap\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { SharesTable, FoundersTable} from \"./Table\";\r\nimport \"./test.css\";\r\nimport SLUGS from \"../../../resources/slugs\";\r\n\r\nconst Styles = styled.div`\r\n  padding: 1rem;\r\n\r\n  table {\r\n    border-spacing: 0;\r\n    border: 1px solid black;\r\n\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n\r\n    th,\r\n    td {\r\n      color: palevioletred\r\n      margin: 0;\r\n      padding: 0.8rem;\r\n      border-bottom: 1px solid black;\r\n      border-right: 1px solid black;\r\n\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n\r\n      Input {\r\n        font-size: 1rem;\r\n        padding: 0;\r\n        margin: 0;\r\n        border: 1;\r\n      }\r\n    }\r\n  }\r\n\r\n  .pagination {\r\n    padding: 0.5rem;\r\n  }\r\n`;\r\nexport function ShareAgreement() {\r\n\r\n  const methods = useForm();\r\n  const methods2 = useForm();\r\n  const methods3 = useForm();\r\n\r\n\r\n  const { push } = useHistory();\r\n  const [step, setStep] = useState(0); \r\n  const [shareInfo, setShareInfo] = useState([\r\n    {\r\n      shareID: 1,\r\n      shareName: \"\",\r\n      shareClass: \"Class A\",\r\n      shareType: \"Common\",\r\n      shareTotal: 0,\r\n    },\r\n  ]);\r\n  const [shareList, setShareList] = useState([\r\n    {\r\n      id: 1,\r\n      selected: false\r\n    }\r\n  ]);\r\n  \r\n  const [founderInfo, setFounderInfo] = useState([\r\n    {\r\n      refNum: 1,\r\n      fname: \"\",\r\n      preferredName: \"\",\r\n      role: \"Founder\",\r\n      streetName: \"\",\r\n      cityName: \"\",\r\n      provinceName: \"\",\r\n      postalCode: \"\",\r\n      phone: \"\",\r\n      email: \"\",\r\n      isCorp: false,\r\n      onBoard: false,\r\n      corpName: \"\",\r\n      shareinfo: [\r\n        {\r\n          refId: \"\",\r\n          numHeld: 0,\r\n        },\r\n      ],\r\n    },\r\n  ]);\r\n\r\n  const idata = `shareinfo[${0}]`;\r\n  const [inputList, setInputList] = useState([\r\n    [{ name: idata, index: 0, refID: \"1\", numHeld: 0 }],\r\n  ]);\r\n\r\n  const createAgreement = \"http://localhost:8000/api/agreements\";\r\n \r\n  const onSubmit = async (data) => {\r\n    \r\n    if (step === 3) {\r\n      console.log(JSON.stringify(data, null, 2));\r\n      const token = sessionStorage.getItem(\"xrsf\");\r\n      const config = {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      };\r\n\r\n      const newData = JSON.parse(localStorage.getItem(\"data\"));\r\n    \r\n      const d = {\r\n        name: newData.agreeName,\r\n        data: data,\r\n      };\r\n\r\n      localStorage.removeItem(\"shareData\");\r\n      await axios.post(createAgreement, d, config)\r\n        .then(res => {\r\n          console.log(res);\r\n          localStorage.removeItem(\"shareData\");\r\n          push(SLUGS.createShare + res.data.id)\r\n        }\r\n        )\r\n    }\r\n  \r\n  };\r\n\r\n  const shareColumns = [\r\n    {\r\n      Header: \"Reference Info\",\r\n      columns: [\r\n        {\r\n          Header: \"Share ID\",\r\n          accessor: \"refNum\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      Header: \"Share Info\",\r\n      columns: [\r\n        {\r\n          Header: \"Share Name\",\r\n          accessor: \"shareName\",\r\n        \r\n        },\r\n        {\r\n          Header: \"Class\",\r\n          accessor: \"shareClass\",\r\n        },\r\n        {\r\n          Header: \"Type\",\r\n          accessor: \"shareType\",\r\n        },\r\n        {\r\n          Header: \"Total Shares\",\r\n          accessor: \"shareTotal\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      Header: \"Actions\",\r\n      columns: [\r\n        {\r\n          Header: \"Add/Delete Row\"\r\n        }\r\n      ]\r\n    }\r\n  ];\r\n\r\n  const founderColumns = [\r\n    {\r\n      Header: \"Shares Held\",\r\n      columns: [\r\n        {\r\n          Header: \"Share ID\",\r\n          accessor: \"refID\",\r\n        },\r\n\r\n        {\r\n          Header: \"Amount Held\",\r\n          accessor: \"numHeld\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      Header: \"Personal Info\",\r\n      columns: [\r\n        {\r\n          Header: \"Full Name\",\r\n          id: `fname`,\r\n          accessor: \"fname\",\r\n        },\r\n        {\r\n          Header: \"Role\",\r\n          accessor: \"role\",\r\n        },\r\n        {\r\n          Header: \"Address\",\r\n          accessor: \"addressInfo\",\r\n          width: 180,\r\n        },\r\n\r\n        {\r\n          Header: \"Phone Number\",\r\n          accessor: \"phone\",\r\n        },\r\n\r\n        {\r\n          Header: \"Email(Optional)\",\r\n          accessor: \"email\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      Header: \"Corporation Info\",\r\n      columns: [\r\n        {\r\n          Header: \"On the Board of Directors\",\r\n          accessor: \"isBoard\",\r\n        },\r\n        {\r\n          Header: \"Corporation Name (If Applicable)\",\r\n          accessor: \"corpName\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      Header: \"Actions\",\r\n      columns: [\r\n        {\r\n          Header: \"Add/Delete Row\",\r\n        },\r\n      ],\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <FormProvider {...methods}>\r\n      {step === 0 && (\r\n        <form onSubmit={methods.handleSubmit(onSubmit)}>\r\n          <FormGroup>\r\n            <label>What is your companyâ€™s Name?</label>\r\n            <Input type=\"text\" name=\"companyName\" innerRef={methods.register} />\r\n\r\n            <label color=\"black\">\r\n              What is your company's place of incorporation?\r\n            </label>\r\n            <Input\r\n              type=\"select\"\r\n              name=\"companyPlace\"\r\n              innerRef={methods.register}\r\n            >\r\n              <option>Canada</option>\r\n              <option>Ontario</option>\r\n            </Input>\r\n            <label>When was your company incorporated?</label>\r\n            <Input type=\"date\" name=\"companyDate\" innerRef={methods.register} />\r\n            <button onClick={() => setStep(1)}>Next Step</button>\r\n          </FormGroup>\r\n        </form>\r\n      )}\r\n      {step === 1 && (\r\n        <form onSubmit={methods2.handleSubmit(onSubmit)}>\r\n          <FormGroup>\r\n            <Label for=\"sTable\">What Does Your Company Have?</Label>\r\n            <div className=\"Table\">\r\n              <Styles>\r\n                <SharesTable\r\n                  columns={shareColumns}\r\n                  ref={methods.register}\r\n                  data={shareInfo}\r\n                  setData={setShareInfo}\r\n                  methods={methods}\r\n                  shareList={shareList}\r\n                  setShareList={setShareList}\r\n                />\r\n              </Styles>\r\n            </div>\r\n            <button onClick={() => setStep(1)}>Go Back</button>\r\n            <button onClick={() => setStep(2)}>Next Step</button>\r\n          </FormGroup>\r\n        </form>\r\n      )}\r\n      {step === 2 && (\r\n        <form onSubmit={methods3.handleSubmit(onSubmit)}>\r\n          <FormGroup>\r\n            <Label>Who are the Stakeholders?</Label>\r\n            <div className=\"Table\">\r\n              <Styles>\r\n                <FoundersTable\r\n                  columns={founderColumns}\r\n                  data={founderInfo}\r\n                  ref={methods.register}\r\n                  methods={methods}\r\n                  setData={setFounderInfo}\r\n                  shareData={shareInfo}\r\n                  shareRefs={shareList}\r\n                />\r\n              </Styles>\r\n            </div>\r\n            <button>Go Back</button>\r\n            <button type=\"submit\">Next Step</button>\r\n          </FormGroup>\r\n        </form>\r\n      )}\r\n      {/* {step === 3 && (\r\n        <form onSubmit={methodshandleSubmit(onSubmit)}>\r\n          <div>\r\n            <p>Last Step</p>\r\n            <button>Go Back</button>\r\n            <input type=\"submit\" />\r\n          </div>\r\n        </form>\r\n      )} */}\r\n    </FormProvider>\r\n  );\r\n}\r\n\r\nexport default ShareAgreement;\r\n"]},"metadata":{},"sourceType":"module"}