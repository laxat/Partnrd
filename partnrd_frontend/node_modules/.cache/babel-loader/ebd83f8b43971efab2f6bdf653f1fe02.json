{"ast":null,"code":"import _regeneratorRuntime from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Column,Row}from\"simple-flexbox\";import CreateButton from\"../../../components/CreateButton\";import{createUseStyles}from\"react-jss\";import axios from\"axios\";import{useHistory}from\"react-router-dom\";import{Paper}from\"@material-ui/core\";import{useParams}from\"react-router\";import{CircularProgress}from\"@material-ui/core\";import SLUGS from\"../../../resources/slugs\";import{Beginning,Recitals,Articles,Article2,Article4,Article6,Article7,Article8,Article10,Article10b,Article9}from\"./SharePages\";import AlertDialog,{DeleteDialog,EditDialog}from\"./Info\";import{PDFExport}from\"@progress/kendo-react-pdf\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=createUseStyles({lastRow:{marginTop:10},page:{backgroundColor:\"#ffffff\"},paperStyle:{background:\"white\",padding:50,marginBottom:50,marginTop:20,fontSize:12,fontFamily:\"Times New Roman\",boxShadow:\"unset !important\",border:\"1px solid #d8d8d8\",borderRadius:0},container:{width:\"100%\",maxWidth:\"1300px\",marginLeft:\"auto\",marginRight:\"auto\"},buttonRow:{marginTop:10},title:{marginTop:10,color:\"#000\",fontSize:\"30px\"},paragraph:{whiteSpace:\"pre-line\"},rowC:{display:\"flex\",flexDirection:\"row\"},rowBtn:{marginRight:\"15px !important\"}});export function CreateShareAgreement(){var _useParams=useParams(),id=_useParams.id;var _useHistory=useHistory(),push=_useHistory.push;var classes=useStyles();var token=sessionStorage.getItem(\"xrsf\");var config={headers:{Authorization:\"Bearer \".concat(token)}};var api=\"\".concat(process.env.REACT_APP_API,\"/api/agreements/\").concat(id);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState({loading:false}),_useState4=_slicedToArray(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var pdfExportComponent=React.useRef(null);var handleExportWithComponent=function handleExportWithComponent(e){pdfExportComponent.current.save();};useEffect(function(){getData();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:setIsLoading(true);_context.next=3;return axios.get(api,config).then(function(res){setFormData(res.data);// console.log(res);\n// console.log(res);\nsetIsLoading(false);}).catch(function(err){// console.log(err);\npush(SLUGS.agreements);});case 3:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();var name=\"Review & Download\";return!isLoading?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Column,{className:[classes.container,classes.title].join(\" \"),horizontal:\"start\",children:formData&&formData[0]&&/*#__PURE__*/_jsx(\"h1\",{children:formData[0].name})}),/*#__PURE__*/_jsx(Column,{className:classes.container,vertical:\"center\",horizontal:\"end\",children:/*#__PURE__*/_jsxs(\"div\",{className:classes.rowC,children:[/*#__PURE__*/_jsxs(\"div\",{className:[classes.rowC,classes.rowBtn].join(\" \"),children:[/*#__PURE__*/_jsx(EditDialog,{api:api,config:config,agreeName:formData[0].name,getData:getData}),/*#__PURE__*/_jsx(DeleteDialog,{config:config,api:api})]}),/*#__PURE__*/_jsx(CreateButton,{label:name,onClick:handleExportWithComponent})]})})]}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Row,{className:[classes.lastRow,\"agreementView\"].join(\" \"),children:/*#__PURE__*/_jsx(DisplayData,{data:formData,pdfExportComponent:pdfExportComponent})})})]}):/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(CircularProgress,{color:\"inherit\"})});}function DisplayData(_ref2){var data=_ref2.data,pdfExportComponent=_ref2.pdfExportComponent;var createdDate=data[0].created_at;var classes=useStyles();var val=JSON.parse(data[0].data);var corpName=val.companyName;var corpPlace=val.companyPlace;var corpDate=val.companyDate;var corpFax=val.companyFax;var corpContact=val.companyContact;var optOut=val.optOut;var control=val.control;var shareData=[];var personData=[];var investorData=[];var founderData=[];var directorData=[];val.shareInfo.map(function(x,i){return shareData[i]={shareID:x.shareID,shareName:x.shareName,shareClass:x.shareClass,shareType:x.shareType,shareTotal:x.shareTotal};});val.founderInfo.map(function(x,i){return personData[i]={ID:x.personID,name:{fname:x.fname,prefName:x.preferredName},phone:x.phone,email:x.email,address:[x.streetName,x.provinceName,x.cityName,x.postalCode],IsCompany:[x.role,x.corpName],IsBoard:x.onBoard,shareinfo:x.shareinfo};});val.founderInfo.forEach(function(x){if(x.role===\"Founder\"){founderData.push({ID:x.personID,name:{fname:x.fname,prefName:x.preferredName},phone:x.phone,email:x.email,address:[x.streetName,x.provinceName,x.cityName,x.postalCode],IsCompany:[x.role,x.corpName],IsBoard:x.onBoard,shareinfo:x.shareinfo});}});val.founderInfo.forEach(function(x){if(x.role===\"Investor\"){investorData.push({ID:x.personID,name:{fname:x.fname,prefName:x.preferredName},phone:x.phone,email:x.email,address:[x.streetName,x.provinceName,x.cityName,x.postalCode],IsCompany:[x.role,x.corpName],IsBoard:x.onBoard,shareinfo:x.shareinfo});}});if(!optOut){val.directInfo.map(function(x,i){return directorData[i]={ID:x.personID,name:x.name,nominee:x.nominee,shareinfo:x.shareinfo};});}return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(PDFExport,{paperSize:\"A4\",ref:pdfExportComponent,children:/*#__PURE__*/_jsxs(Paper,{className:classes.paperStyle,children:[/*#__PURE__*/_jsx(Row,{horizontal:\"center\",children:/*#__PURE__*/_jsx(AlertDialog,{title:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{children:\"SHAREHOLDERS AGREEMENT\"}),/*#__PURE__*/_jsx(\"div\",{children:\"OF\"}),/*#__PURE__*/_jsx(\"div\",{children:corpName.toUpperCase()})]}),info:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{children:\"This paragraph defines the agreement, names all parties, and chooses the laws under which the agreement is made.\"})})})}),/*#__PURE__*/_jsx(Beginning,{corpName:corpName,corpData:corpDate,corpPlace:corpPlace,personData:personData}),/*#__PURE__*/_jsx(Recitals,{}),/*#__PURE__*/_jsx(Articles,{corpPlace:corpPlace,shareData:shareData,founderData:founderData,majControl:control}),/*#__PURE__*/_jsx(Article2,{}),/*#__PURE__*/_jsx(Article4,{directorData:directorData,shareData:shareData,optOut:optOut}),/*#__PURE__*/_jsx(Article6,{createdDate:createdDate}),/*#__PURE__*/_jsx(Article7,{}),/*#__PURE__*/_jsx(Article8,{}),/*#__PURE__*/_jsx(Article9,{}),/*#__PURE__*/_jsx(Article10,{}),/*#__PURE__*/_jsx(Article10b,{corpName:corpName,corpContact:corpContact,corpFax:corpFax}),/*#__PURE__*/_jsx(Row,{horizontal:\"center\",children:\"IN WITNESS OF WHICH the Parties have duly executed this Agreement\"}),/*#__PURE__*/_jsx(SigAppend,{name:corpName,IsFounder:false}),founderData.length>0&&founderData.map(function(x,i){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(SigAppend,{name:x.name.fname,IsFounder:true})},i);}),investorData.length>0&&investorData.map(function(x,i){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(SigAppend,{name:x.name.fname,IsFounder:true})},i);})]})})});}var SigAppend=function SigAppend(_ref3){var name=_ref3.name,IsFounder=_ref3.IsFounder;return/*#__PURE__*/_jsxs(\"div\",{children:[!IsFounder&&/*#__PURE__*/_jsxs(Row,{horizontal:\"end\",children:[/*#__PURE__*/_jsx(\"div\",{children:\"By: \"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{borderBottom:\"1px solid\"}}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Name: \",name]}),/*#__PURE__*/_jsx(\"div\",{children:\"Title:\"})]})]}),IsFounder&&/*#__PURE__*/_jsx(Row,{horizontal:\"start\",children:/*#__PURE__*/_jsxs(\"div\",{children:[\"SIGNED, SEALED, AND\",/*#__PURE__*/_jsx(\"br\",{}),\"DELIVERED in the presence of:\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{borderTop:\"1px solid\"}}),name]})})]});};","map":{"version":3,"sources":["C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/src/pages/Templates/ShareAgreement/CreateShareAgreement.js"],"names":["React","useEffect","useState","Column","Row","CreateButton","createUseStyles","axios","useHistory","Paper","useParams","CircularProgress","SLUGS","Beginning","Recitals","Articles","Article2","Article4","Article6","Article7","Article8","Article10","Article10b","Article9","AlertDialog","DeleteDialog","EditDialog","PDFExport","useStyles","lastRow","marginTop","page","backgroundColor","paperStyle","background","padding","marginBottom","fontSize","fontFamily","boxShadow","border","borderRadius","container","width","maxWidth","marginLeft","marginRight","buttonRow","title","color","paragraph","whiteSpace","rowC","display","flexDirection","rowBtn","CreateShareAgreement","id","push","classes","token","sessionStorage","getItem","config","headers","Authorization","api","process","env","REACT_APP_API","formData","setFormData","loading","isLoading","setIsLoading","pdfExportComponent","useRef","handleExportWithComponent","e","current","save","getData","get","then","res","data","catch","err","agreements","name","join","DisplayData","createdDate","created_at","val","JSON","parse","corpName","companyName","corpPlace","companyPlace","corpDate","companyDate","corpFax","companyFax","corpContact","companyContact","optOut","control","shareData","personData","investorData","founderData","directorData","shareInfo","map","x","i","shareID","shareName","shareClass","shareType","shareTotal","founderInfo","ID","personID","fname","prefName","preferredName","phone","email","address","streetName","provinceName","cityName","postalCode","IsCompany","role","IsBoard","onBoard","shareinfo","forEach","directInfo","nominee","toUpperCase","length","SigAppend","IsFounder","borderBottom","borderTop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Column, Row } from \"simple-flexbox\";\r\nimport CreateButton from \"../../../components/CreateButton\";\r\nimport { createUseStyles } from \"react-jss\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Paper } from \"@material-ui/core\";\r\nimport { useParams } from \"react-router\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport SLUGS from \"../../../resources/slugs\";\r\nimport {\r\n  Beginning,\r\n  Recitals,\r\n  Articles,\r\n  Article2,\r\n  Article4,\r\n  Article6,\r\n  Article7,\r\n  Article8,\r\n  Article10,\r\n  Article10b,\r\n  Article9,\r\n} from \"./SharePages\";\r\nimport AlertDialog, { DeleteDialog, EditDialog } from \"./Info\";\r\nimport { PDFExport } from \"@progress/kendo-react-pdf\";\r\n\r\nconst useStyles = createUseStyles({\r\n  lastRow: {\r\n    marginTop: 10,\r\n  },\r\n\r\n  page: {\r\n    backgroundColor: \"#ffffff\",\r\n  },\r\n\r\n  paperStyle: {\r\n    background: \"white\",\r\n    padding: 50,\r\n    marginBottom: 50,\r\n    marginTop: 20,\r\n    fontSize: 12,\r\n    fontFamily: \"Times New Roman\",\r\n    boxShadow: \"unset !important\",\r\n    border: `1px solid #d8d8d8`,\r\n    borderRadius: 0,\r\n  },\r\n  container: {\r\n    width: \"100%\",\r\n    maxWidth: \"1300px\",\r\n    marginLeft: \"auto\",\r\n    marginRight: \"auto\",\r\n  },\r\n\r\n  buttonRow: {\r\n    marginTop: 10,\r\n  },\r\n\r\n  title: {\r\n    marginTop: 10,\r\n    color: \"#000\",\r\n    fontSize: \"30px\",\r\n  },\r\n  paragraph: {\r\n    whiteSpace: \"pre-line\",\r\n  },\r\n\r\n  rowC: {\r\n    display: \"flex\",\r\n    flexDirection: \"row\",\r\n  },\r\n\r\n  rowBtn: {\r\n    marginRight: \"15px !important\",\r\n  },\r\n});\r\n\r\nexport function CreateShareAgreement() {\r\n  const { id } = useParams();\r\n  const { push } = useHistory();\r\n\r\n  const classes = useStyles();\r\n  const token = sessionStorage.getItem(\"xrsf\");\r\n  const config = {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  };\r\n  const api = `${process.env.REACT_APP_API}/api/agreements/${id}`;\r\n\r\n  const [formData, setFormData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState({\r\n    loading: false,\r\n  });\r\n\r\n  const pdfExportComponent = React.useRef(null);\r\n  const handleExportWithComponent = (e) => {\r\n    pdfExportComponent.current.save();\r\n  };\r\n  useEffect(() => {\r\n    getData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const getData = async () => {\r\n    setIsLoading(true);\r\n    await axios\r\n      .get(api, config)\r\n      .then((res) => {\r\n        setFormData(res.data);\r\n        // console.log(res);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        // console.log(err);\r\n        push(SLUGS.agreements);\r\n      });\r\n  };\r\n\r\n  const name = \"Review & Download\";\r\n  return !isLoading ? (\r\n    <div>\r\n      <Row>\r\n        <Column\r\n          className={[classes.container, classes.title].join(\" \")}\r\n          horizontal=\"start\"\r\n        >\r\n          {formData && formData[0] && <h1>{formData[0].name}</h1>}\r\n        </Column>\r\n        <Column\r\n          className={classes.container}\r\n          vertical=\"center\"\r\n          horizontal=\"end\"\r\n        >\r\n          <div className={classes.rowC}>\r\n            <div className={[classes.rowC, classes.rowBtn].join(\" \")}>\r\n              <EditDialog\r\n                api={api}\r\n                config={config}\r\n                agreeName={formData[0].name}\r\n                getData={getData}\r\n              />\r\n              <DeleteDialog config={config} api={api} />\r\n            </div>\r\n            <CreateButton label={name} onClick={handleExportWithComponent} />\r\n          </div>\r\n        </Column>\r\n      </Row>\r\n      <Row>\r\n        <Row className={[classes.lastRow, \"agreementView\"].join(\" \")}>\r\n          <DisplayData\r\n            data={formData}\r\n            pdfExportComponent={pdfExportComponent}\r\n          />\r\n        </Row>\r\n      </Row>\r\n    </div>\r\n  ) : (\r\n    <div>\r\n      <CircularProgress color=\"inherit\" />\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction DisplayData({ data, pdfExportComponent }) {\r\n  const createdDate = data[0].created_at;\r\n  const classes = useStyles();\r\n  const val = JSON.parse(data[0].data);\r\n\r\n  const corpName = val.companyName;\r\n  const corpPlace = val.companyPlace;\r\n  const corpDate = val.companyDate;\r\n  const corpFax = val.companyFax;\r\n  const corpContact = val.companyContact;\r\n  const optOut = val.optOut;\r\n  const control = val.control;\r\n\r\n  const shareData = [];\r\n  const personData = [];\r\n  const investorData = [];\r\n  const founderData = [];\r\n  const directorData = [];\r\n\r\n  val.shareInfo.map((x, i) => {\r\n    return (shareData[i] = {\r\n      shareID: x.shareID,\r\n      shareName: x.shareName,\r\n      shareClass: x.shareClass,\r\n      shareType: x.shareType,\r\n      shareTotal: x.shareTotal,\r\n    });\r\n  });\r\n\r\n  val.founderInfo.map((x, i) => {\r\n    return (personData[i] = {\r\n      ID: x.personID,\r\n      name: {\r\n        fname: x.fname,\r\n        prefName: x.preferredName,\r\n      },\r\n      phone: x.phone,\r\n      email: x.email,\r\n      address: [x.streetName, x.provinceName, x.cityName, x.postalCode],\r\n      IsCompany: [x.role, x.corpName],\r\n      IsBoard: x.onBoard,\r\n      shareinfo: x.shareinfo,\r\n    });\r\n  });\r\n\r\n  val.founderInfo.forEach((x) => {\r\n    if (x.role === \"Founder\") {\r\n      founderData.push({\r\n        ID: x.personID,\r\n        name: {\r\n          fname: x.fname,\r\n          prefName: x.preferredName,\r\n        },\r\n        phone: x.phone,\r\n        email: x.email,\r\n        address: [x.streetName, x.provinceName, x.cityName, x.postalCode],\r\n        IsCompany: [x.role, x.corpName],\r\n        IsBoard: x.onBoard,\r\n        shareinfo: x.shareinfo,\r\n      });\r\n    }\r\n  });\r\n  val.founderInfo.forEach((x) => {\r\n    if (x.role === \"Investor\") {\r\n      investorData.push({\r\n        ID: x.personID,\r\n        name: {\r\n          fname: x.fname,\r\n          prefName: x.preferredName,\r\n        },\r\n        phone: x.phone,\r\n        email: x.email,\r\n        address: [x.streetName, x.provinceName, x.cityName, x.postalCode],\r\n        IsCompany: [x.role, x.corpName],\r\n        IsBoard: x.onBoard,\r\n        shareinfo: x.shareinfo,\r\n      });\r\n    }\r\n  });\r\n  if (!optOut) {\r\n    val.directInfo.map((x, i) => {\r\n      return (directorData[i] = {\r\n        ID: x.personID,\r\n        name: x.name,\r\n        nominee: x.nominee,\r\n        shareinfo: x.shareinfo,\r\n      });\r\n    });\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <PDFExport paperSize=\"A4\" ref={pdfExportComponent}>\r\n        <Paper className={classes.paperStyle}>\r\n          <Row horizontal=\"center\">\r\n            <AlertDialog\r\n              title={\r\n                <div>\r\n                  <div>SHAREHOLDERS AGREEMENT</div>\r\n                  <div>OF</div>\r\n                  <div>{corpName.toUpperCase()}</div>\r\n                </div>\r\n              }\r\n              info={\r\n                <div>\r\n                  <div>\r\n                    This paragraph defines the agreement, names all parties, and\r\n                    chooses the laws under which the agreement is made.\r\n                  </div>\r\n                </div>\r\n              }\r\n            />\r\n          </Row>\r\n          <Beginning\r\n            corpName={corpName}\r\n            corpData={corpDate}\r\n            corpPlace={corpPlace}\r\n            personData={personData}\r\n          />\r\n          <Recitals />\r\n          <Articles\r\n            corpPlace={corpPlace}\r\n            shareData={shareData}\r\n            founderData={founderData}\r\n            majControl={control}\r\n          />\r\n          <Article2 />\r\n          <Article4\r\n            directorData={directorData}\r\n            shareData={shareData}\r\n            optOut={optOut}\r\n          />\r\n          <Article6 createdDate={createdDate} />\r\n          <Article7 />\r\n          <Article8 />\r\n          <Article9 />\r\n          <Article10 />\r\n          <Article10b\r\n            corpName={corpName}\r\n            corpContact={corpContact}\r\n            corpFax={corpFax}\r\n          />\r\n          <Row horizontal=\"center\">\r\n            IN WITNESS OF WHICH the Parties have duly executed this Agreement\r\n          </Row>\r\n          <SigAppend name={corpName} IsFounder={false} />\r\n          {founderData.length > 0 &&\r\n            founderData.map((x, i) => {\r\n              return (\r\n                <div key={i}>\r\n                  <SigAppend name={x.name.fname} IsFounder={true} />\r\n                </div>\r\n              );\r\n            })}\r\n          {investorData.length > 0 &&\r\n            investorData.map((x, i) => {\r\n              return (\r\n                <div key={i}>\r\n                  <SigAppend name={x.name.fname} IsFounder={true} />\r\n                </div>\r\n              );\r\n            })}\r\n        </Paper>\r\n      </PDFExport>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst SigAppend = ({ name, IsFounder }) => {\r\n  return (\r\n    <div>\r\n      {!IsFounder && (\r\n        <Row horizontal=\"end\">\r\n          <div>By: </div>\r\n          <div>\r\n            <br/>\r\n            <div style={{ borderBottom: \"1px solid\" }} />\r\n            <div>Name: {name}</div>\r\n            <div>Title:</div>\r\n          </div>\r\n        </Row>\r\n      )}\r\n      {IsFounder && (\r\n        <Row horizontal=\"start\">\r\n          <div>\r\n            SIGNED, SEALED, AND\r\n            <br />\r\n            DELIVERED in the presence of:\r\n            <br />\r\n            <br />\r\n            <div style={{ borderTop: \"1px solid\" }} />\r\n            {name}\r\n          </div>\r\n        </Row>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}