{"ast":null,"code":"import _objectSpread from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _toConsumableArray from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import React,{useState,useEffect}from\"react\";import{useTable}from\"react-table\";import{Controller}from\"react-hook-form\";import{Input,Label,Button,Row,Col}from\"reactstrap\";// import { ErrorMessage } from '@hookform/error-message';\nimport\"./test.css\";import AddIcon from\"@material-ui/icons/Add\";import RemoveIcon from\"@material-ui/icons/Remove\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export var SharesTable=/*#__PURE__*/React.forwardRef(function(_ref,ref){var columns=_ref.columns,data=_ref.data,setData=_ref.setData,shareList=_ref.shareList,setShareList=_ref.setShareList,methods=_ref.methods;// Use the state and functions returned from useTable to build your UI\nvar _useTable=useTable({columns:columns,data:data}),getTableProps=_useTable.getTableProps,getTableBodyProps=_useTable.getTableBodyProps,headerGroups=_useTable.headerGroups;var errors=methods.formState.errors.shareInfo;var handleInput=function handleInput(i,e){var _e$target=e.target,id=_e$target.id,value=_e$target.value;var list=_toConsumableArray(data);list[i][id]=value;setData(list);};var addShareRow=function addShareRow(){var l=data.length+1;var d=_toConsumableArray(data);var list=_toConsumableArray(shareList);var item={shareID:l,shareName:\"\",shareClass:\"Class A\",shareType:\"Common\",shareTotal:0};d.push(item);list.push({id:l,selected:false});setShareList(list);setData(d);};// Render the UI for your table\nreturn/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"table\",_objectSpread(_objectSpread({},getTableProps()),{},{children:[/*#__PURE__*/_jsx(\"thead\",{children:headerGroups.map(function(headerGroup){return/*#__PURE__*/_jsx(\"tr\",_objectSpread(_objectSpread({},headerGroup.getHeaderGroupProps()),{},{children:headerGroup.headers.map(function(column){return/*#__PURE__*/_jsx(\"th\",_objectSpread(_objectSpread({},column.getHeaderProps()),{},{children:column.render(\"Header\")}));})}));})}),/*#__PURE__*/_jsx(\"tbody\",_objectSpread(_objectSpread({},getTableBodyProps()),{},{children:data.map(function(row,i){//prepareRow(row);\nreturn/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[\" \",/*#__PURE__*/_jsx(Controller,{name:\"shareInfo[\".concat(i,\"].shareID\"),control:methods.control,defaultValue:data[i].shareID,as:/*#__PURE__*/_jsx(\"p\",{children:data[i].shareID})})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"shareName\",name:\"shareInfo[\".concat(i,\"].shareName\"),value:data[i].shareName,onChange:function onChange(e){return handleInput(i,e);},innerRef:methods.register({required:\"ShareName is Required\"})}),errors&&errors[i]&&errors[i].shareName&&errors[i].shareName.type===\"required\"&&/*#__PURE__*/_jsx(\"p\",{children:errors[i].shareName.message})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Input,{required:true,type:\"select\",id:\"shareClass\",name:\"shareInfo[\".concat(i,\"].shareClass\"),value:data[i].shareClass,onChange:function onChange(e){return handleInput(i,e);},innerRef:methods.register,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Class A\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Class B\"}),/*#__PURE__*/_jsx(\"option\",{children:\"None\"})]})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Input,{required:true,type:\"select\",id:\"shareType\",name:\"shareInfo[\".concat(i,\"].shareType\"),value:data[i].shareType,onChange:function onChange(e){return handleInput(i,e);},innerRef:methods.register,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Common\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Preferred\"})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Input,{type:\"number\",id:\"shareTotal\",name:\"shareInfo[\".concat(i,\"].shareTotal\"),value:data[i].shareTotal,onChange:function onChange(e){return handleInput(i,e);},innerRef:methods.register({required:\"Total Shares is Required\",min:1})}),errors&&errors[i]&&errors[i].shareTotal&&errors[i].shareTotal.type===\"required\"&&/*#__PURE__*/_jsx(\"p\",{children:errors[i].shareTotal.message}),errors&&errors[i]&&errors[i].shareTotal&&errors[i].shareTotal.type===\"min\"&&/*#__PURE__*/_jsx(\"p\",{children:\"There must be at least 1 share\"})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return addShareRow();},children:/*#__PURE__*/_jsx(AddIcon,{})}),\" \",data.length!==1&&/*#__PURE__*/_jsx(Button,{onClick:function onClick(){var newData=_toConsumableArray(data);var list=_toConsumableArray(shareList);newData.splice(i,1);newData.map(function(row,index){if(index>=i){row.shareID-=1;}});list.pop();setShareList(list);setData(newData);},children:/*#__PURE__*/_jsx(RemoveIcon,{})})]})})]},i);})}))]}))});});export var FoundersTable=/*#__PURE__*/React.forwardRef(function(_ref2,ref){var columns=_ref2.columns,data=_ref2.data,setData=_ref2.setData,methods=_ref2.methods,shareData=_ref2.shareData,inputList=_ref2.inputList,setInputList=_ref2.setInputList;// Use the state and functions returned from useTable to build your UI\nvar _useTable2=useTable({columns:columns,data:data}),getTableProps=_useTable2.getTableProps,getTableBodyProps=_useTable2.getTableBodyProps,headerGroups=_useTable2.headerGroups;var idata=\"shareinfo[\".concat(0,\"]\");// const [inputList, setInputList] = useState([\n//   [{ name: idata, index: 0, refID: \"1\", numHeld: 0 }],\n// ]);\nvar errors=methods.formState.errors.founderInfo;var handleFounderInput=function handleFounderInput(e,i){var _e$target2=e.target,id=_e$target2.id,value=_e$target2.value;var list=_toConsumableArray(data);if(id===\"onBoard\"){var isChecked=e.target.checked;list[i][id]=isChecked;setData(list);}else{list[i][id]=value;setData(list);}};var addFounderRow=function addFounderRow(){var l=data.length+1;var d=_toConsumableArray(data);var item={personID:l,fname:\"\",preferredName:\"\",role:\"Founder\",streetName:\"\",cityName:\"\",provinceName:\"\",postalCode:\"\",phone:\"\",email:\"\",isCorp:false,onBoard:false,corpName:\"\"};d.push(item);addInputField();setData(d);};var addInputField=function addInputField(){var list=_toConsumableArray(inputList);var val=[{name:idata,index:0,refID:1,numHeld:0}];// ?\nlist.push(val);setInputList(list);};var handleInput=function handleInput(e,i,index){var _e$target3=e.target,id=_e$target3.id,value=_e$target3.value;var list=_toConsumableArray(inputList);list[i][index][id]=value;setInputList(list);};var handleAddClick=function handleAddClick(i,e){e.preventDefault();var list=_toConsumableArray(inputList);var lastIndex=inputList[i].length-1;list[i].push({name:\"shareinfo[\".concat(list[i][lastIndex].index+1,\"]\"),index:list[i][lastIndex].index+1,refID:list[i][lastIndex].index+2,numHeld:0});setInputList(list);};var handleRemoveClick=function handleRemoveClick(i,e){e.preventDefault();var pos=_toConsumableArray(inputList);pos[i][inputList.length-1].numHeld=0;pos[i].pop();setInputList(pos);};return/*#__PURE__*/_jsxs(\"table\",_objectSpread(_objectSpread({},getTableProps()),{},{children:[/*#__PURE__*/_jsx(\"thead\",{children:headerGroups.map(function(headerGroup){return/*#__PURE__*/_jsxs(\"tr\",_objectSpread(_objectSpread({},headerGroup.getHeaderGroupProps()),{},{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Shares Held\"}),/*#__PURE__*/_jsx(\"th\",{colSpan:3,children:\"Personal Information\"})]}));})}),/*#__PURE__*/_jsx(\"tbody\",_objectSpread(_objectSpread({},getTableBodyProps()),{},{children:data.map(function(row,i){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsxs(\"td\",{children:[inputList[i].map(function(x,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"shares\",children:[/*#__PURE__*/_jsx(Controller,{name:\"founderInfo[\".concat(i,\"][\").concat(x.name,\"][shareID]\"),control:methods.control,defaultValue:inputList[i][index].refID,as:/*#__PURE__*/_jsxs(\"label\",{style:{paddingTop:15},children:[\"ID: \",\"\".concat(inputList[i][index].refID)]})}),/*#__PURE__*/_jsx(Input,{name:\"founderInfo[\".concat(i,\"][\").concat(x.name,\"][numHeld]\"),id:\"numHeld\",type:\"number\",value:inputList[i][index].numHeld,onChange:function onChange(e){return handleInput(e,i,index);},innerRef:methods.register({min:0})}),errors&&errors[i]&&errors[i].shareinfo&&errors[i].shareinfo[index]&&errors[i].shareinfo[index].numHeld&&errors[i].shareinfo[index].numHeld.type===\"min\"&&/*#__PURE__*/_jsx(\"p\",{children:\"Number of held shares must be a natural number\"})]},index);}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn-box\",children:[shareData.length!==inputList[i].length&&/*#__PURE__*/_jsx(\"button\",{className:\"mr10\",onClick:function onClick(e){return handleAddClick(i,e);},children:/*#__PURE__*/_jsx(AddIcon,{})}),inputList[i].length!==1&&/*#__PURE__*/_jsx(\"button\",{className:\"mr10\",onClick:function onClick(e){return handleRemoveClick(i,e);},children:/*#__PURE__*/_jsx(RemoveIcon,{})})]})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"fname\",name:\"founderInfo[\".concat(i,\"][fname]\"),placeholder:\"Full Name\",value:data[i].fname,onChange:function onChange(e){return handleFounderInput(e,i);},innerRef:methods.register({required:\"Full Name Required\"})}),errors&&errors[i]&&errors[i].fname&&/*#__PURE__*/_jsx(\"p\",{children:errors[i].fname.message}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"preferredName\",name:\"founderInfo[\".concat(i,\"][preferredName]\"),placeholder:\"Preferred Name\",value:data[i].preferredName,onChange:function onChange(e){return handleFounderInput(e,i);},innerRef:methods.register}),/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",id:\"onBoard\",name:\"founderInfo[\".concat(i,\"][onBoard]\"),checked:data[i].onBoard,onChange:function onChange(e){return handleFounderInput(e,i);},ref:methods.register}),/*#__PURE__*/_jsx(\"label\",{children:\"On Board of Directors?\"})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Input,{type:\"tel\",id:\"phone\",name:\"founderInfo[\".concat(i,\"][phone]\"),value:data[i].phone,placeholder:\"Phone number\",onChange:function onChange(e){return handleFounderInput(e,i);},innerRef:methods.register({required:\"Phone Number is Required\",pattern:/^\\s*(?:\\+?(\\d{1,3}))?[-. (]*(\\d{3})[-. )]*(\\d{3})[-. ]*(\\d{4})(?: *x(\\d+))?\\s*$/})}),errors&&errors[i]&&errors[i].phone&&errors[i].phone.type===\"required\"&&/*#__PURE__*/_jsx(\"p\",{children:errors[i].phone.message}),errors&&errors[i]&&errors[i].phone&&errors[i].phone.type===\"pattern\"&&/*#__PURE__*/_jsx(\"p\",{children:\"Please enter valid phone number\"}),/*#__PURE__*/_jsx(Input,{type:\"email\",id:\"email\",placeholder:\"Email Address\",name:\"founderInfo[\".concat(i,\"][email]\"),value:data[i].email,onChange:function onChange(e){return handleFounderInput(e,i);},innerRef:methods.register}),/*#__PURE__*/_jsxs(Input,{type:\"select\",id:\"role\",name:\"founderInfo[\".concat(i,\"][role]\"),value:data[i].role,onChange:function onChange(e){return handleFounderInput(e,i);},innerRef:methods.register,children:[/*#__PURE__*/_jsx(\"option\",{children:\"Founder\"}),/*#__PURE__*/_jsx(\"option\",{children:\"Investor\"})]})]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"streetName\",name:\"founderInfo[\".concat(i,\"][streetName]\"),placeholder:\"Street Name\",value:data[i].streetName,onChange:function onChange(e){return handleFounderInput(e,i);},innerRef:methods.register}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"cityName\",name:\"founderInfo[\".concat(i,\"][cityName]\"),value:data[i].cityName,onChange:function onChange(e){return handleFounderInput(e,i);},placeholder:\"City\",innerRef:methods.register}),/*#__PURE__*/_jsxs(Input,{type:\"select\",id:\"provinceName\",name:\"founderInfo[\".concat(i,\"][provinceName]\"),value:data[i].provinceName,onChange:function onChange(e){return handleFounderInput(e,i);},placeholder:\"Province\",innerRef:methods.register,children:[/*#__PURE__*/_jsx(\"option\",{value:\"AB\",children:\"Alberta\"}),/*#__PURE__*/_jsx(\"option\",{value:\"BC\",children:\"British Columbia\"}),/*#__PURE__*/_jsx(\"option\",{value:\"MB\",children:\"Manitoba\"}),/*#__PURE__*/_jsx(\"option\",{value:\"NB\",children:\"New Brunswick\"}),/*#__PURE__*/_jsx(\"option\",{value:\"NL\",children:\"Newfoundland and Labrador\"}),/*#__PURE__*/_jsx(\"option\",{value:\"NS\",children:\"Nova Scotia\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ON\",children:\"Ontario\"}),/*#__PURE__*/_jsx(\"option\",{value:\"PE\",children:\"Prince Edward Island\"}),/*#__PURE__*/_jsx(\"option\",{value:\"QC\",children:\"Quebec\"}),/*#__PURE__*/_jsx(\"option\",{value:\"SK\",children:\"Saskatchewan\"}),/*#__PURE__*/_jsx(\"option\",{value:\"NT\",children:\"Northwest Territories\"}),/*#__PURE__*/_jsx(\"option\",{value:\"NU\",children:\"Nunavut\"}),/*#__PURE__*/_jsx(\"option\",{value:\"YT\",children:\"Yukon\"})]}),/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"postalCode\",name:\"founderInfo[\".concat(i,\"][postalCode]\"),placeholder:\"Postal Code\",value:data[i].postalCode,onChange:function onChange(e){return handleFounderInput(e,i);},innerRef:methods.register})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Controller,{name:\"founderInfo[\".concat(i,\"].personID\"),control:methods.control,defaultValue:data[i].personID}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return addFounderRow();},children:/*#__PURE__*/_jsx(AddIcon,{})}),\" \",data.length!==1&&/*#__PURE__*/_jsx(Button,{onClick:function onClick(){var newData=_toConsumableArray(data);newData.splice(i,1);newData.map(function(row,index){if(index>=i){row.personID-=1;}});inputList.splice(i,1);console.log(newData);setData(newData);},children:/*#__PURE__*/_jsx(RemoveIcon,{})})]})})]},i);})}))]}));});","map":{"version":3,"sources":["C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/src/pages/Templates/ShareAgreement/Table.js"],"names":["React","useState","useEffect","useTable","Controller","Input","Label","Button","Row","Col","AddIcon","RemoveIcon","SharesTable","forwardRef","ref","columns","data","setData","shareList","setShareList","methods","getTableProps","getTableBodyProps","headerGroups","errors","formState","shareInfo","handleInput","i","e","target","id","value","list","addShareRow","l","length","d","item","shareID","shareName","shareClass","shareType","shareTotal","push","selected","map","headerGroup","getHeaderGroupProps","headers","column","getHeaderProps","render","row","control","register","required","type","message","min","newData","splice","index","pop","FoundersTable","shareData","inputList","setInputList","idata","founderInfo","handleFounderInput","isChecked","checked","addFounderRow","personID","fname","preferredName","role","streetName","cityName","provinceName","postalCode","phone","email","isCorp","onBoard","corpName","addInputField","val","name","refID","numHeld","handleAddClick","preventDefault","lastIndex","handleRemoveClick","pos","x","paddingTop","shareinfo","pattern","console","log"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { useTable } from \"react-table\";\r\nimport { Controller } from \"react-hook-form\";\r\nimport { Input, Label, Button, Row, Col } from \"reactstrap\";\r\n// import { ErrorMessage } from '@hookform/error-message';\r\nimport \"./test.css\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport RemoveIcon from \"@material-ui/icons/Remove\";\r\n\r\nexport const SharesTable = React.forwardRef(\r\n  ({ columns, data, setData, shareList, setShareList, methods }, ref) => {\r\n    // Use the state and functions returned from useTable to build your UI\r\n    const { getTableProps, getTableBodyProps, headerGroups } = useTable({\r\n      columns,\r\n      data,\r\n    });\r\n\r\n    let errors = methods.formState.errors.shareInfo;\r\n\r\n    const handleInput = (i, e) => {\r\n      const { id, value } = e.target;\r\n      const list = [...data];\r\n      list[i][id] = value;\r\n      setData(list);\r\n    };\r\n\r\n    const addShareRow = function () {\r\n      let l = data.length + 1;\r\n      const d = [...data];\r\n      const list = [...shareList];\r\n\r\n      const item = {\r\n        shareID: l,\r\n        shareName: \"\",\r\n        shareClass: \"Class A\",\r\n        shareType: \"Common\",\r\n        shareTotal: 0,\r\n      };\r\n\r\n      d.push(item);\r\n      list.push({\r\n        id: l,\r\n        selected: false,\r\n      });\r\n      setShareList(list);\r\n      setData(d);\r\n    };\r\n    // Render the UI for your table\r\n    return (\r\n      <div>\r\n        <table {...getTableProps()}>\r\n          <thead>\r\n            {headerGroups.map((headerGroup) => (\r\n              <tr {...headerGroup.getHeaderGroupProps()}>\r\n                {headerGroup.headers.map((column) => (\r\n                  <th {...column.getHeaderProps()}>\r\n                    {column.render(\"Header\")}\r\n                  </th>\r\n                ))}\r\n              </tr>\r\n            ))}\r\n          </thead>\r\n          <tbody {...getTableBodyProps()}>\r\n            {data.map((row, i) => {\r\n              //prepareRow(row);\r\n              return (\r\n                <tr key={i}>\r\n                  <td>\r\n                    {\" \"}\r\n                    <Controller\r\n                      name={`shareInfo[${i}].shareID`}\r\n                      control={methods.control}\r\n                      defaultValue={data[i].shareID}\r\n                      as={<p>{data[i].shareID}</p>}\r\n                    />\r\n                  </td>\r\n                  <td>\r\n                    <Input\r\n                      type=\"text\"\r\n                      id={\"shareName\"}\r\n                      name={`shareInfo[${i}].shareName`}\r\n                      value={data[i].shareName}\r\n                      onChange={(e) => handleInput(i, e)}\r\n                      innerRef={methods.register({\r\n                        required: \"ShareName is Required\",\r\n                      })}\r\n                    />\r\n                    {errors &&\r\n                      errors[i] &&\r\n                      errors[i].shareName &&\r\n                      errors[i].shareName.type === \"required\" && (\r\n                        <p>{errors[i].shareName.message}</p>\r\n                      )}\r\n                  </td>\r\n                  <td>\r\n                    <Input\r\n                      required\r\n                      type=\"select\"\r\n                      id={\"shareClass\"}\r\n                      name={`shareInfo[${i}].shareClass`}\r\n                      value={data[i].shareClass}\r\n                      onChange={(e) => handleInput(i, e)}\r\n                      innerRef={methods.register}\r\n                    >\r\n                      <option>Class A</option>\r\n                      <option>Class B</option>\r\n                      <option>None</option>\r\n                    </Input>\r\n                  </td>\r\n                  <td>\r\n                    <Input\r\n                      required\r\n                      type=\"select\"\r\n                      id={\"shareType\"}\r\n                      name={`shareInfo[${i}].shareType`}\r\n                      value={data[i].shareType}\r\n                      onChange={(e) => handleInput(i, e)}\r\n                      innerRef={methods.register}\r\n                    >\r\n                      <option>Common</option>\r\n                      <option>Preferred</option>\r\n                    </Input>\r\n                  </td>\r\n                  <td>\r\n                    <Input\r\n                      type=\"number\"\r\n                      id={\"shareTotal\"}\r\n                      name={`shareInfo[${i}].shareTotal`}\r\n                      value={data[i].shareTotal}\r\n                      onChange={(e) => handleInput(i, e)}\r\n                      innerRef={methods.register({\r\n                        required: \"Total Shares is Required\",\r\n                        min: 1,\r\n                      })}\r\n                    />\r\n                    {errors &&\r\n                      errors[i] &&\r\n                      errors[i].shareTotal &&\r\n                      errors[i].shareTotal.type === \"required\" && (\r\n                        <p>{errors[i].shareTotal.message}</p>\r\n                      )}\r\n                    {errors &&\r\n                      errors[i] &&\r\n                      errors[i].shareTotal &&\r\n                      errors[i].shareTotal.type === \"min\" && (\r\n                        <p>There must be at least 1 share</p>\r\n                      )}\r\n                  </td>\r\n                  <td>\r\n                    <div>\r\n                      <Button onClick={() => addShareRow()}>\r\n                        <AddIcon />\r\n                      </Button>{\" \"}\r\n                      {data.length !== 1 && (\r\n                        <Button\r\n                          onClick={() => {\r\n                            const newData = [...data];\r\n                            const list = [...shareList];\r\n                            newData.splice(i, 1);\r\n                            newData.map((row, index) => {\r\n                              if (index >= i) {\r\n                                row.shareID -= 1;\r\n                              }\r\n                            });\r\n                            list.pop();\r\n                            setShareList(list);\r\n                            setData(newData);\r\n                          }}\r\n                        >\r\n                          <RemoveIcon />\r\n                        </Button>\r\n                      )}\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nexport const FoundersTable = React.forwardRef(\r\n  (\r\n    { columns, data, setData, methods, shareData, inputList, setInputList },\r\n    ref\r\n  ) => {\r\n    // Use the state and functions returned from useTable to build your UI\r\n    const { getTableProps, getTableBodyProps, headerGroups } = useTable({\r\n      columns,\r\n      data,\r\n    });\r\n\r\n    const idata = `shareinfo[${0}]`;\r\n    // const [inputList, setInputList] = useState([\r\n\r\n    //   [{ name: idata, index: 0, refID: \"1\", numHeld: 0 }],\r\n    // ]);\r\n\r\n    let errors = methods.formState.errors.founderInfo;\r\n\r\n    const handleFounderInput = (e, i) => {\r\n      const { id, value } = e.target;\r\n      const list = [...data];\r\n      if (id === \"onBoard\") {\r\n        let isChecked = e.target.checked;\r\n        list[i][id] = isChecked;\r\n        setData(list);\r\n      } else {\r\n        list[i][id] = value;\r\n        setData(list);\r\n      }\r\n    };\r\n\r\n    const addFounderRow = function () {\r\n      let l = data.length + 1;\r\n      const d = [...data];\r\n      const item = {\r\n        personID: l,\r\n        fname: \"\",\r\n        preferredName: \"\",\r\n        role: \"Founder\",\r\n        streetName: \"\",\r\n        cityName: \"\",\r\n        provinceName: \"\",\r\n        postalCode: \"\",\r\n        phone: \"\",\r\n        email: \"\",\r\n        isCorp: false,\r\n        onBoard: false,\r\n        corpName: \"\",\r\n      };\r\n\r\n      d.push(item);\r\n      addInputField();\r\n      setData(d);\r\n    };\r\n\r\n    const addInputField = function () {\r\n      const list = [...inputList];\r\n      const val = [{ name: idata, index: 0, refID: 1, numHeld: 0 }];\r\n      // ?\r\n      list.push(val);\r\n      setInputList(list);\r\n    };\r\n\r\n    const handleInput = (e, i, index) => {\r\n      const { id, value } = e.target;\r\n      const list = [...inputList];\r\n\r\n      list[i][index][id] = value;\r\n      setInputList(list);\r\n    };\r\n    const handleAddClick = (i, e) => {\r\n      e.preventDefault();\r\n      const list = [...inputList];\r\n      const lastIndex = inputList[i].length - 1;\r\n      list[i].push({\r\n        name: `shareinfo[${list[i][lastIndex].index + 1}]`,\r\n        index: list[i][lastIndex].index + 1,\r\n        refID: list[i][lastIndex].index + 2,\r\n        numHeld: 0,\r\n      });\r\n      setInputList(list);\r\n    };\r\n\r\n    const handleRemoveClick = (i, e) => {\r\n      e.preventDefault();\r\n      const pos = [...inputList];\r\n      pos[i][inputList.length - 1].numHeld = 0;\r\n      pos[i].pop();\r\n      setInputList(pos);\r\n    };\r\n\r\n    return (\r\n      <table {...getTableProps()}>\r\n        <thead>\r\n          {headerGroups.map((headerGroup) => (\r\n            <tr {...headerGroup.getHeaderGroupProps()}>\r\n              <th>Shares Held</th>\r\n              <th colSpan={3}>Personal Information</th>\r\n            </tr>\r\n          ))}\r\n        </thead>\r\n        <tbody {...getTableBodyProps()}>\r\n          {data.map((row, i) => {\r\n            return (\r\n              <tr key={i}>\r\n                <td>\r\n                  {inputList[i].map((x, index) => {\r\n                    return (\r\n                      <div className=\"shares\" key={index}>\r\n                        <Controller\r\n                          name={`founderInfo[${i}][${x.name}][shareID]`}\r\n                          control={methods.control}\r\n                          defaultValue={inputList[i][index].refID}\r\n                          as={\r\n                            <label style={{ paddingTop: 15 }}>\r\n                              ID: {`${inputList[i][index].refID}`}\r\n                            </label>\r\n                          }\r\n                        />\r\n\r\n                        <Input\r\n                          name={`founderInfo[${i}][${x.name}][numHeld]`}\r\n                          id={`numHeld`}\r\n                          type=\"number\"\r\n                          value={inputList[i][index].numHeld}\r\n                          onChange={(e) => handleInput(e, i, index)}\r\n                          innerRef={methods.register({\r\n                            min: 0,\r\n                          })}\r\n                        />\r\n\r\n                        {errors &&\r\n                          errors[i] &&\r\n                          errors[i].shareinfo &&\r\n                          errors[i].shareinfo[index] &&\r\n                          errors[i].shareinfo[index].numHeld &&\r\n                          errors[i].shareinfo[index].numHeld.type === \"min\" && (\r\n                            <p>\r\n                              Number of held shares must be a natural number\r\n                            </p>\r\n                          )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                  <div className=\"btn-box\">\r\n                    {shareData.length !== inputList[i].length && (\r\n                      <button\r\n                        className=\"mr10\"\r\n                        onClick={(e) => handleAddClick(i, e)}\r\n                      >\r\n                        <AddIcon />\r\n                      </button>\r\n                    )}\r\n                    {inputList[i].length !== 1 && (\r\n                      <button\r\n                        className=\"mr10\"\r\n                        onClick={(e) => handleRemoveClick(i, e)}\r\n                      >\r\n                        <RemoveIcon />\r\n                      </button>\r\n                    )}\r\n                  </div>\r\n                </td>\r\n\r\n                <td>\r\n                  <Input\r\n                    type=\"text\"\r\n                    id=\"fname\"\r\n                    name={`founderInfo[${i}][fname]`}\r\n                    placeholder=\"Full Name\"\r\n                    value={data[i].fname}\r\n                    onChange={(e) => handleFounderInput(e, i)}\r\n                    innerRef={methods.register({\r\n                      required: \"Full Name Required\",\r\n                    })}\r\n                  />\r\n\r\n                  {errors && errors[i] && errors[i].fname && (\r\n                    <p>{errors[i].fname.message}</p>\r\n                  )}\r\n\r\n                  <Input\r\n                    type=\"text\"\r\n                    id=\"preferredName\"\r\n                    name={`founderInfo[${i}][preferredName]`}\r\n                    placeholder=\"Preferred Name\"\r\n                    value={data[i].preferredName}\r\n                    onChange={(e) => handleFounderInput(e, i)}\r\n                    innerRef={methods.register}\r\n                  />\r\n\r\n                  <input\r\n                    type=\"checkbox\"\r\n                    id=\"onBoard\"\r\n                    name={`founderInfo[${i}][onBoard]`}\r\n                    checked={data[i].onBoard}\r\n                    onChange={(e) => handleFounderInput(e, i)}\r\n                    ref={methods.register}\r\n                  />\r\n                  <label>On Board of Directors?</label>\r\n                </td>\r\n\r\n                <td>\r\n                  <Input\r\n                    type=\"tel\"\r\n                    id=\"phone\"\r\n                    name={`founderInfo[${i}][phone]`}\r\n                    value={data[i].phone}\r\n                    placeholder=\"Phone number\"\r\n                    onChange={(e) => handleFounderInput(e, i)}\r\n                    innerRef={methods.register({\r\n                      required: \"Phone Number is Required\",\r\n                      pattern:\r\n                        /^\\s*(?:\\+?(\\d{1,3}))?[-. (]*(\\d{3})[-. )]*(\\d{3})[-. ]*(\\d{4})(?: *x(\\d+))?\\s*$/,\r\n                    })}\r\n                  />\r\n\r\n                  {errors &&\r\n                    errors[i] &&\r\n                    errors[i].phone &&\r\n                    errors[i].phone.type === \"required\" && (\r\n                      <p>{errors[i].phone.message}</p>\r\n                    )}\r\n\r\n                  {errors &&\r\n                    errors[i] &&\r\n                    errors[i].phone &&\r\n                    errors[i].phone.type === \"pattern\" && (\r\n                      <p>Please enter valid phone number</p>\r\n                    )}\r\n\r\n                  <Input\r\n                    type=\"email\"\r\n                    id=\"email\"\r\n                    placeholder=\"Email Address\"\r\n                    name={`founderInfo[${i}][email]`}\r\n                    value={data[i].email}\r\n                    onChange={(e) => handleFounderInput(e, i)}\r\n                    innerRef={methods.register}\r\n                  />\r\n\r\n                  <Input\r\n                    type=\"select\"\r\n                    id=\"role\"\r\n                    name={`founderInfo[${i}][role]`}\r\n                    value={data[i].role}\r\n                    onChange={(e) => handleFounderInput(e, i)}\r\n                    innerRef={methods.register}\r\n                  >\r\n                    <option>Founder</option>\r\n                    <option>Investor</option>\r\n                  </Input>\r\n                </td>\r\n\r\n                <td>\r\n                  <Input\r\n                    type=\"text\"\r\n                    id=\"streetName\"\r\n                    name={`founderInfo[${i}][streetName]`}\r\n                    placeholder=\"Street Name\"\r\n                    value={data[i].streetName}\r\n                    onChange={(e) => handleFounderInput(e, i)}\r\n                    innerRef={methods.register}\r\n                  />\r\n\r\n                  <Input\r\n                    type=\"text\"\r\n                    id=\"cityName\"\r\n                    name={`founderInfo[${i}][cityName]`}\r\n                    value={data[i].cityName}\r\n                    onChange={(e) => handleFounderInput(e, i)}\r\n                    placeholder=\"City\"\r\n                    innerRef={methods.register}\r\n                  />\r\n\r\n                  <Input\r\n                    type=\"select\"\r\n                    id=\"provinceName\"\r\n                    name={`founderInfo[${i}][provinceName]`}\r\n                    value={data[i].provinceName}\r\n                    onChange={(e) => handleFounderInput(e, i)}\r\n                    placeholder=\"Province\"\r\n                    innerRef={methods.register}\r\n                  >\r\n                    <option value=\"AB\">Alberta</option>\r\n                    <option value=\"BC\">British Columbia</option>\r\n                    <option value=\"MB\">Manitoba</option>\r\n                    <option value=\"NB\">New Brunswick</option>\r\n                    <option value=\"NL\">Newfoundland and Labrador</option>\r\n                    <option value=\"NS\">Nova Scotia</option>\r\n                    <option value=\"ON\">Ontario</option>\r\n                    <option value=\"PE\">Prince Edward Island</option>\r\n                    <option value=\"QC\">Quebec</option>\r\n                    <option value=\"SK\">Saskatchewan</option>\r\n                    <option value=\"NT\">Northwest Territories</option>\r\n                    <option value=\"NU\">Nunavut</option>\r\n                    <option value=\"YT\">Yukon</option>\r\n                  </Input>\r\n\r\n                  <Input\r\n                    type=\"text\"\r\n                    id=\"postalCode\"\r\n                    name={`founderInfo[${i}][postalCode]`}\r\n                    placeholder=\"Postal Code\"\r\n                    value={data[i].postalCode}\r\n                    onChange={(e) => handleFounderInput(e, i)}\r\n                    innerRef={methods.register}\r\n                  />\r\n                </td>\r\n\r\n                <td>\r\n                  <div>\r\n                    <Controller\r\n                      name={`founderInfo[${i}].personID`}\r\n                      control={methods.control}\r\n                      defaultValue={data[i].personID}\r\n                    />\r\n                    <Button onClick={() => addFounderRow()}>\r\n                      <AddIcon />\r\n                    </Button>{\" \"}\r\n                    {data.length !== 1 && (\r\n                      <Button\r\n                        onClick={() => {\r\n                          const newData = [...data];\r\n                          newData.splice(i, 1);\r\n                          newData.map((row, index) => {\r\n                            if (index >= i) {\r\n                              row.personID -= 1;\r\n                            }\r\n                          });\r\n                          inputList.splice(i, 1);\r\n                          console.log(newData);\r\n                          setData(newData);\r\n                        }}\r\n                      >\r\n                        <RemoveIcon />\r\n                      </Button>\r\n                    )}\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n            );\r\n          })}\r\n        </tbody>\r\n      </table>\r\n    );\r\n  }\r\n);\r\n"]},"metadata":{},"sourceType":"module"}