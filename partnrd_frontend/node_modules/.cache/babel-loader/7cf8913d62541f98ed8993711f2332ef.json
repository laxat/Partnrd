{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\Partnr\\\\partnrd\\\\partnrd_frontend\\\\src\\\\pages\\\\Templates\\\\ShareAgreement\\\\ShareAgreement.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { useForm, FormProvider } from \"react-hook-form\";\nimport { Input, FormGroup, Label, Tooltip, InputGroupAddon, InputGroupText } from \"reactstrap\";\nimport styled from \"styled-components\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { SharesTable, FoundersTable } from \"./Table\";\nimport SLUGS from \"../../../resources/slugs\";\nimport { createUseStyles } from \"react-jss\";\nimport { BsInfoCircleFill as InfoIcon } from \"react-icons/bs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Styles = styled.div`\n  padding: 0.8rem;\n\n  label {\n\n    margin-top: 10px\n    margin-bottom: 10px;\n  }\n  table {\n    border-spacing: 0;\n    border: 1px solid black;\n\n    tr {\n      :last-child {\n        td {\n          border-bottom: 0;\n        }\n      }\n    }\n\n    th,\n    td {\n      color: palevioletred\n      margin: 0;\n      padding: 0.8rem;\n      border-top: 1px solid black;\n      border-bottom: 1px solid black;\n      border-right: 1px solid black;\n\n      :last-child {\n        border-right: 0;\n      }\n\n      Input {\n        font-size: 0.9rem;\n        padding: 0;\n        margin-top: 10px;\n        margin-bottom: 10px;\n        border: 2;\n      }\n    }\n  }\n\n`;\n_c = Styles;\nconst useStyles = createUseStyles({\n  iconSize: {\n    fontSize: 15,\n    marginBottom: 3\n  },\n  spacing: {\n    marginTop: 5,\n    marginBottom: 2,\n    marginRight: 5\n  }\n});\n\nfunction ShareAgreement() {\n  _s();\n\n  const methods = useForm();\n  const methods1 = useForm();\n  const methods2 = useForm();\n  const methods3 = useForm();\n  const methods4 = useForm();\n  const {\n    push\n  } = useHistory();\n  const [mergeData, setMergeData] = useState([]);\n  const [directData, setDirectData] = useState([]);\n  const [step, setStep] = useState(0);\n  const [error, setError] = useState({\n    type: \"\",\n    message: \"\"\n  });\n  const [shareInfo, setShareInfo] = useState([{\n    shareID: 1,\n    shareName: \"\",\n    shareClass: \"Class A\",\n    shareType: \"Common\",\n    shareTotal: 0\n  }]);\n  const [optOut, setOptOut] = useState(false);\n  const [shareList, setShareList] = useState([{\n    id: 1,\n    selected: false\n  }]);\n  const [control, setControl] = useState({\n    value: 50\n  });\n  const [founderInfo, setFounderInfo] = useState([{\n    personID: 1,\n    fname: \"\",\n    preferredName: \"\",\n    role: \"Founder\",\n    streetName: \"\",\n    cityName: \"\",\n    provinceName: \"\",\n    postalCode: \"\",\n    phone: \"\",\n    email: \"\",\n    isCorp: false,\n    onBoard: false,\n    corpName: \"\",\n    shareinfo: [{\n      refId: 1,\n      numHeld: 0\n    }]\n  }]);\n  const idata = `shareinfo[${0}]`;\n  const [inputList, setInputList] = useState([[{\n    name: idata,\n    index: 0,\n    refID: 1,\n    numHeld: 0\n  }]]);\n  const createAgreement = `${process.env.REACT_APP_API}/api/agreements`;\n\n  const onSubmit = async data => {\n    if (step === 0) {\n      const item = [...mergeData];\n      item[0] = data;\n      setMergeData(item);\n      setStep(1);\n    }\n\n    if (step === 1) {\n      const item = [...mergeData];\n      item[1] = data;\n      setMergeData(item);\n      setStep(2);\n    }\n\n    if (step === 2) {\n      console.log(data);\n      setError({});\n      const shares = mergeData[1].shareInfo;\n      const persons = data.founderInfo;\n      let errors = [];\n\n      for (let i = 0; i < shares.length; i++) {\n        let shareTotal = 0;\n\n        for (let j = 0; j < persons.length; j++) {\n          if (persons[j].shareinfo[i]) {\n            var num = parseInt(persons[j].shareinfo[i].numHeld);\n            shareTotal += num;\n          }\n        }\n\n        if (shares[i].shareTotal < shareTotal) {\n          console.log(\"PANIC\");\n          errors.push(shareTotal);\n          let e = {};\n          e.type = \"numHeld\";\n          e.message = \"numHeld of a share must  be less than the total shares\";\n          setError(e);\n        }\n      }\n\n      if (errors.length === 0) {\n        setError({});\n        const item = [...mergeData];\n        item[2] = data;\n        setMergeData(item);\n        let d = [...directData];\n        d = [];\n        data.founderInfo.forEach(x => {\n          if (x.onBoard) {\n            d.push({\n              personID: x.personID,\n              name: x.fname,\n              shareinfo: x.shareinfo,\n              nominee: \"Founder\",\n              quorum: 0\n            });\n          }\n        });\n        setDirectData(d);\n        setStep(3);\n      }\n    }\n\n    if (step === 3) {\n      setError({});\n      setOptOut(false);\n\n      if (control.value < 1 || control.value > 100) {\n        let e = {};\n        e.type = \"control\";\n        e.message = \"Majority Control must be a valid percentage between 1 and 100\";\n        setError(e);\n      } else {\n        const item = [...mergeData];\n        item[3] = {\n          control: control.value\n        };\n        setMergeData(item);\n        setStep(4);\n      }\n    }\n\n    if (step === 4) {\n      setError({});\n      methods4.unregister(\"lawyer\");\n      console.log(data);\n\n      if (optOut === false) {\n        if (data.quorum <= directData.length) {\n          console.log(directData);\n          const direct = {\n            directInfo: []\n          };\n          directData.map((x, i) => {\n            return direct.directInfo[i] = {\n              name: x.name,\n              personID: x.personID,\n              nominee: x.nominee,\n              shareinfo: x.shareinfo,\n              quorum: data.quorum\n            };\n          });\n          const finalData = { ...mergeData[0],\n            ...mergeData[1],\n            ...mergeData[2],\n            ...mergeData[3],\n            ...direct,\n            optOut: false\n          };\n          console.log(JSON.stringify(finalData, null, 2));\n          sendData(finalData);\n        } else {\n          let e = {};\n          console.log(\"Here\");\n          e.type = \"quorum\";\n          e.message = \"Quorum must be less than or equal to number of directors\";\n          setError(e);\n        }\n      } else {\n        const finalData = { ...mergeData[0],\n          ...mergeData[1],\n          ...mergeData[2],\n          ...mergeData[3],\n          optOut: true\n        };\n        sendData(finalData);\n      }\n    }\n  };\n\n  const sendData = async data => {\n    console.log(JSON.stringify(data, null, 2));\n    const token = sessionStorage.getItem(\"xrsf\");\n    const config = {\n      headers: {\n        Authorization: `Bearer ${token}`\n      }\n    };\n    const newData = JSON.parse(localStorage.getItem(\"data\"));\n    const d = {\n      name: newData.agreeName,\n      data: data\n    };\n    await axios.post(createAgreement, d, config).then(res => {\n      console.log(res);\n      localStorage.removeItem(\"shareData\");\n      push(SLUGS.createShare + res.data.id);\n    });\n  };\n\n  const shareColumns = [{\n    Header: \"Reference #\",\n    id: \"shareHeader\",\n    columns: [{\n      Header: /*#__PURE__*/_jsxDEV(HeaderComponent, {\n        title: \"Share ID\",\n        info: \"Share ID for better access to share information\",\n        id: \"shareID\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 13\n      }, this),\n      accessor: \"refNum\",\n      id: \"refNum\"\n    }]\n  }, {\n    Header: \"Share Information\",\n    columns: [{\n      Header: /*#__PURE__*/_jsxDEV(HeaderComponent, {\n        title: \"Share Name\",\n        info: \"What is the name of the share?\",\n        id: \"share2\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 13\n      }, this),\n      accessor: \"shareName\",\n      id: \"ShareNum\"\n    }, {\n      Header: /*#__PURE__*/_jsxDEV(HeaderComponent, {\n        title: \"Share Class\",\n        info: \"What is the class of the share?\",\n        id: \"share3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 322,\n        columnNumber: 13\n      }, this),\n      accessor: \"shareClass\",\n      id: \"ShareClass\"\n    }, {\n      Header: /*#__PURE__*/_jsxDEV(HeaderComponent, {\n        title: \"Share Type\",\n        info: \"What type fo share is the currently being referred to\",\n        id: \"share4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 333,\n        columnNumber: 13\n      }, this),\n      accessor: \"shareType\",\n      id: \"ShareType\"\n    }, {\n      Header: /*#__PURE__*/_jsxDEV(HeaderComponent, {\n        title: \"Share Total\",\n        info: \"What are the total amount of shares this company currently has?\",\n        id: \"share5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 13\n      }, this),\n      accessor: \"shareTotal\",\n      id: \"ShareTotal\"\n    }]\n  }];\n  const founderColumns = [{\n    Header: \"Shares Held\",\n    accessor: \"sharesHeld\"\n  }, {\n    Header: \"Personal Information\",\n    id: \"personID\"\n  }, {\n    Header: \"Contact Information\",\n    id: \"contact\"\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [step === 0 && /*#__PURE__*/_jsxDEV(FormProvider, { ...methods,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"mediumForm\",\n        onSubmit: methods.handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Create Agreement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(HeaderComponent, {\n            title: \"What is your company's Name?\",\n            info: \"Write Down Legal Company name, or Company you represent\",\n            id: \"compName\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            required: true,\n            type: \"text\",\n            name: \"companyName\",\n            innerRef: methods.register\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 388,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(HeaderComponent, {\n            title: \"Who is your Company's main contact?\",\n            info: \"Enter the Full Legal Name of you Company's main contact\",\n            id: \"compContact\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            required: true,\n            type: \"text\",\n            name: \"companyContact\",\n            innerRef: methods.register\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(HeaderComponent, {\n            title: \"What is your company's fax number\",\n            info: \"Enter the company Fax contact\",\n            id: \"compFax\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            required: true,\n            type: \"tel\",\n            name: \"companyFax\",\n            innerRef: methods.register\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(HeaderComponent, {\n            title: \"What is your company's place of incorporation?\",\n            info: \"Is you Company located in Greater Canada or Ontario\",\n            id: \"compPlace\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 416,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            required: true,\n            type: \"select\",\n            name: \"companyPlace\",\n            innerRef: methods.register,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Canada\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 427,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Ontario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 428,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 421,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(HeaderComponent, {\n            title: \"When was your company incorporated?\",\n            info: \"When was your company founded?\",\n            id: \"compDate\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 430,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            required: true,\n            type: \"date\",\n            name: \"companyDate\",\n            innerRef: methods.register\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: methods.handleSubmit(onSubmit),\n            children: \"Next Step\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 441,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 382,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 377,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 376,\n      columnNumber: 9\n    }, this), step === 1 && /*#__PURE__*/_jsxDEV(FormProvider, { ...methods1,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"largeForm\",\n        onSubmit: methods1.handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Create Agreement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 454,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            for: \"sTable\",\n            children: \"What Does Your Company Have?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Table\",\n            children: /*#__PURE__*/_jsxDEV(Styles, {\n              children: /*#__PURE__*/_jsxDEV(SharesTable, {\n                columns: shareColumns,\n                ref: methods1.register,\n                data: shareInfo,\n                setData: setShareInfo,\n                methods: methods1,\n                shareList: shareList,\n                setShareList: setShareList\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 459,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 458,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setStep(0),\n            children: \"Go Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: methods1.handleSubmit(onSubmit),\n            children: \"Next Step\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 471,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 449,\n      columnNumber: 9\n    }, this), step === 2 && /*#__PURE__*/_jsxDEV(FormProvider, { ...methods2,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"largeForm\",\n        onSubmit: methods2.handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Create Agreement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FormGroup, {\n          children: [/*#__PURE__*/_jsxDEV(Label, {\n            children: \"Who are the Stakeholders?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 486,\n            columnNumber: 15\n          }, this), error && error.type && error.type === \"numHeld\" && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Table\",\n            children: /*#__PURE__*/_jsxDEV(Styles, {\n              children: /*#__PURE__*/_jsxDEV(FoundersTable, {\n                columns: founderColumns,\n                data: founderInfo,\n                ref: methods2.register,\n                methods: methods2,\n                setData: setFounderInfo,\n                shareData: shareInfo,\n                inputList: inputList,\n                setInputList: setInputList\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 492,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 491,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 490,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setStep(1),\n            children: \"Go Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: methods2.handleSubmit(onSubmit),\n            children: \"Next Step\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 505,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 480,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 9\n    }, this), step === 3 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(FormProvider, { ...methods4,\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"mediumForm\",\n          onSubmit: methods4.handleSubmit(onSubmit),\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Create Agreement\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 519,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ControlQuest, {\n            methods: methods4,\n            data: control,\n            setData: setControl\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 520,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setStep(2),\n            children: \"Go Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 525,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            onClick: methods2.handleSubmit(onSubmit),\n            children: \"Next Step\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 526,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 514,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 9\n    }, this), step === 4 && /*#__PURE__*/_jsxDEV(FormProvider, { ...methods3,\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"mediumForm\",\n        onSubmit: methods3.handleSubmit(onSubmit),\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Create Agreement\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 539,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Styles, {\n          children: [/*#__PURE__*/_jsxDEV(DirectorsQuest, {\n            data: directData,\n            setData: setDirectData,\n            optOut: optOut,\n            setOptOut: setOptOut,\n            methods: methods3\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 15\n          }, this), error && error.type && error.type === \"quorum\" && /*#__PURE__*/_jsxDEV(\"p\", {\n            children: error.message\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setStep(3),\n          children: \"Go Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: \"Finish\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 554,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 535,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 534,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 374,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ShareAgreement, \"c6Dyw3pvj0OrxMNRu+ycfruL1vE=\", false, function () {\n  return [useForm, useForm, useForm, useForm, useForm, useHistory];\n});\n\n_c2 = ShareAgreement;\nexport default ShareAgreement;\nexport function HeaderComponent({\n  title,\n  info,\n  id\n}) {\n  _s2();\n\n  const classes = useStyles();\n  const [tooltipOpen, setTooltipOpen] = useState(false);\n\n  const toggle = () => setTooltipOpen(!tooltipOpen);\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      className: classes.spacing,\n      children: [title, \"  \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 570,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(InfoIcon, {\n      className: classes.iconSize,\n      id: id\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 574,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      placement: \"top\",\n      isOpen: tooltipOpen,\n      target: id,\n      toggle: toggle,\n      children: info\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 575,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 569,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(HeaderComponent, \"y2C9vmhqsuDkADypIXb5Mi2C2/k=\", false, function () {\n  return [useStyles];\n});\n\n_c3 = HeaderComponent;\nconst DirectorsQuest = /*#__PURE__*/React.forwardRef(_c4 = ({\n  data,\n  optOut,\n  methods,\n  setData,\n  setOptOut\n}, ref) => {\n  const directData = [...data];\n\n  const handleDirectChange = (i, e) => {\n    const {\n      id,\n      value\n    } = e.target;\n    const list = [...data];\n    list[i][id] = value;\n    setData(list);\n  };\n\n  return directData.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [directData.map((x, i) => {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [\"Director \", i + 1, \" is \", x.name, \" nominated by the\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 597,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          required: true,\n          id: \"nominee\",\n          name: `directorInfo[${i}][nominee]`,\n          type: \"select\",\n          onChange: e => handleDirectChange(i, e),\n          value: data[i].nominee,\n          innerRef: methods.register,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Founder\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 609,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Common\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 610,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            children: \"Preferred\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 611,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 600,\n          columnNumber: 15\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 596,\n        columnNumber: 13\n      }, this);\n    }), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"What is the minimum number of Directors required to reach quorum?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 616,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Input, {\n      required: true,\n      type: \"number\",\n      name: \"quorum\",\n      innerRef: methods.register\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 620,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 593,\n    columnNumber: 7\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"You have not selected any directors, Do you wish to opt out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 629,\n      columnNumber: 9\n    }, this), !optOut && /*#__PURE__*/_jsxDEV(\"button\", {\n      required: true,\n      onClick: () => setOptOut(true),\n      children: \"Opt out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 633,\n      columnNumber: 11\n    }, this), optOut && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"You have chosen to opt out\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 638,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 628,\n    columnNumber: 7\n  }, this);\n});\n_c5 = DirectorsQuest;\n\nconst ControlQuest = ({\n  methods,\n  data,\n  setData\n}, props) => {\n  const numChange = methods.watch(\"change\", props.change);\n  const numLawyers = methods.watch(\"lawyer\", props.lawyer);\n\n  const handleControlChange = e => {\n    setData({\n      value: e.target.value\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"label\", {\n      htmlFor: \"yes\",\n      children: \"Would you like to change this number?\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 656,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 657,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"radio\",\n      name: \"change\",\n      value: 1,\n      ref: methods.register\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 658,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      style: {\n        paddingLeft: 10,\n        paddingRight: 10\n      },\n      children: \"Yes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 659,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"radio\",\n      name: \"change\",\n      value: 0,\n      ref: methods.register\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 661,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      style: {\n        paddingLeft: 10\n      },\n      children: \"No\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 662,\n      columnNumber: 7\n    }, this), numChange > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Would you like to contact your Lawyer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 665,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"fieldset\", {\n        id: \"g2\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          id: \"ask-lawyer\",\n          value: 0,\n          name: \"lawyer\",\n          ref: methods.register\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 667,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            paddingLeft: 10,\n            paddingRight: 10\n          },\n          children: \"Yes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 674,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"radio\",\n          id: \"ask-lawyer\",\n          value: 1,\n          name: \"lawyer\",\n          ref: methods.register\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 675,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            paddingLeft: 10\n          },\n          children: \"No\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 682,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 664,\n      columnNumber: 9\n    }, this), numChange > 0 && numLawyers > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u201CControl\\u201D means: (a) with respect to any corporation, the ownership, beneficially and legally of voting securities in the capital of such corporation, to which are attached more than fifty (\", data.value, \"%) of the votes that may be cast to elect the directors of such corporation and such votes are sufficient (if exercised) to elect a majority of the directors; and (b) with respect to a partnership, trust, syndicate, or other entity, actual power or authority to manage and direct the affairs of, or ownership of more than fifty (\", data.value, \"%) of the beneficial interest of such entity.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 688,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(InputGroupAddon, {\n        addonType: \"append\",\n        children: [/*#__PURE__*/_jsxDEV(Input, {\n          name: \"majorityControl\",\n          type: \"number\",\n          min: \"1\",\n          max: \"100\",\n          onChange: e => handleControlChange(e),\n          value: data.value,\n          innerRef: methods.register({\n            min: 1,\n            max: 100\n          })\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(InputGroupText, {\n          children: \"%\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 714,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 701,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 687,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 655,\n    columnNumber: 5\n  }, this);\n};\n\n_c6 = ControlQuest;\n\nvar _c, _c2, _c3, _c4, _c5, _c6;\n\n$RefreshReg$(_c, \"Styles\");\n$RefreshReg$(_c2, \"ShareAgreement\");\n$RefreshReg$(_c3, \"HeaderComponent\");\n$RefreshReg$(_c4, \"DirectorsQuest$React.forwardRef\");\n$RefreshReg$(_c5, \"DirectorsQuest\");\n$RefreshReg$(_c6, \"ControlQuest\");","map":{"version":3,"sources":["C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/src/pages/Templates/ShareAgreement/ShareAgreement.js"],"names":["React","useState","useForm","FormProvider","Input","FormGroup","Label","Tooltip","InputGroupAddon","InputGroupText","styled","axios","useHistory","SharesTable","FoundersTable","SLUGS","createUseStyles","BsInfoCircleFill","InfoIcon","Styles","div","useStyles","iconSize","fontSize","marginBottom","spacing","marginTop","marginRight","ShareAgreement","methods","methods1","methods2","methods3","methods4","push","mergeData","setMergeData","directData","setDirectData","step","setStep","error","setError","type","message","shareInfo","setShareInfo","shareID","shareName","shareClass","shareType","shareTotal","optOut","setOptOut","shareList","setShareList","id","selected","control","setControl","value","founderInfo","setFounderInfo","personID","fname","preferredName","role","streetName","cityName","provinceName","postalCode","phone","email","isCorp","onBoard","corpName","shareinfo","refId","numHeld","idata","inputList","setInputList","name","index","refID","createAgreement","process","env","REACT_APP_API","onSubmit","data","item","console","log","shares","persons","errors","i","length","j","num","parseInt","e","d","forEach","x","nominee","quorum","unregister","direct","directInfo","map","finalData","JSON","stringify","sendData","token","sessionStorage","getItem","config","headers","Authorization","newData","parse","localStorage","agreeName","post","then","res","removeItem","createShare","shareColumns","Header","columns","accessor","founderColumns","handleSubmit","register","HeaderComponent","title","info","classes","tooltipOpen","setTooltipOpen","toggle","DirectorsQuest","forwardRef","setData","ref","handleDirectChange","target","list","ControlQuest","props","numChange","watch","change","numLawyers","lawyer","handleControlChange","paddingLeft","paddingRight","min","max"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport { useForm, FormProvider } from \"react-hook-form\";\r\nimport { Input, FormGroup, Label, Tooltip, InputGroupAddon, InputGroupText } from \"reactstrap\";\r\nimport styled from \"styled-components\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { SharesTable, FoundersTable } from \"./Table\";\r\nimport SLUGS from \"../../../resources/slugs\";\r\nimport { createUseStyles } from \"react-jss\";\r\nimport { BsInfoCircleFill as InfoIcon } from \"react-icons/bs\";\r\n\r\n\r\nconst Styles = styled.div`\r\n  padding: 0.8rem;\r\n\r\n  label {\r\n\r\n    margin-top: 10px\r\n    margin-bottom: 10px;\r\n  }\r\n  table {\r\n    border-spacing: 0;\r\n    border: 1px solid black;\r\n\r\n    tr {\r\n      :last-child {\r\n        td {\r\n          border-bottom: 0;\r\n        }\r\n      }\r\n    }\r\n\r\n    th,\r\n    td {\r\n      color: palevioletred\r\n      margin: 0;\r\n      padding: 0.8rem;\r\n      border-top: 1px solid black;\r\n      border-bottom: 1px solid black;\r\n      border-right: 1px solid black;\r\n\r\n      :last-child {\r\n        border-right: 0;\r\n      }\r\n\r\n      Input {\r\n        font-size: 0.9rem;\r\n        padding: 0;\r\n        margin-top: 10px;\r\n        margin-bottom: 10px;\r\n        border: 2;\r\n      }\r\n    }\r\n  }\r\n\r\n`;\r\n\r\nconst useStyles = createUseStyles({\r\n  iconSize: {\r\n    fontSize: 15,\r\n    marginBottom: 3,\r\n  },\r\n\r\n  spacing: {\r\n    marginTop: 5,\r\n    marginBottom: 2,\r\n    marginRight: 5,\r\n  },\r\n});\r\n\r\nfunction ShareAgreement() {\r\n  const methods = useForm();\r\n  const methods1 = useForm();\r\n  const methods2 = useForm();\r\n  const methods3 = useForm();\r\n  const methods4 = useForm();\r\n\r\n  const { push } = useHistory();\r\n  const [mergeData, setMergeData] = useState([]);\r\n  const [directData, setDirectData] = useState([]);\r\n  const [step, setStep] = useState(0);\r\n  const [error, setError] = useState({\r\n    type: \"\",\r\n    message: \"\",\r\n  });\r\n  const [shareInfo, setShareInfo] = useState([\r\n    {\r\n      shareID: 1,\r\n      shareName: \"\",\r\n      shareClass: \"Class A\",\r\n      shareType: \"Common\",\r\n      shareTotal: 0,\r\n    },\r\n  ]);\r\n  const [optOut, setOptOut] = useState(false); \r\n  const [shareList, setShareList] = useState([\r\n    {\r\n      id: 1,\r\n      selected: false,\r\n    },\r\n  ]);\r\n  const [control, setControl] = useState({\r\n      value: 50\r\n  })\r\n  const [founderInfo, setFounderInfo] = useState([\r\n    {\r\n      personID: 1,\r\n      fname: \"\",\r\n      preferredName: \"\",\r\n      role: \"Founder\",\r\n      streetName: \"\",\r\n      cityName: \"\",\r\n      provinceName: \"\",\r\n      postalCode: \"\",\r\n      phone: \"\",\r\n      email: \"\",\r\n      isCorp: false,\r\n      onBoard: false,\r\n      corpName: \"\",\r\n      shareinfo: [\r\n        {\r\n          refId: 1,\r\n          numHeld: 0,\r\n        },\r\n      ],\r\n    },\r\n  ]);\r\n\r\n  const idata = `shareinfo[${0}]`;\r\n  const [inputList, setInputList] = useState([\r\n    [{ name: idata, index: 0, refID: 1, numHeld: 0 }],\r\n  ]);\r\n\r\n  const createAgreement = `${process.env.REACT_APP_API}/api/agreements`;\r\n\r\n  const onSubmit = async (data) => {\r\n    if (step === 0) {\r\n      const item = [...mergeData];\r\n      item[0] = data;\r\n      setMergeData(item);\r\n      setStep(1);\r\n    }\r\n    if (step === 1) {\r\n      const item = [...mergeData];\r\n      item[1] = data;\r\n      setMergeData(item);\r\n      setStep(2);\r\n    }\r\n    if (step === 2) {\r\n      console.log(data);\r\n      setError({});\r\n      const shares = mergeData[1].shareInfo;\r\n      const persons = data.founderInfo;\r\n      let errors = [];\r\n\r\n      for (let i = 0; i < shares.length; i++) {\r\n        let shareTotal = 0;\r\n        for (let j = 0; j < persons.length; j++) {\r\n          if (persons[j].shareinfo[i]) {\r\n            var num = parseInt(persons[j].shareinfo[i].numHeld);\r\n            shareTotal += num;\r\n          }\r\n        }\r\n        if (shares[i].shareTotal < shareTotal) {\r\n          console.log(\"PANIC\");\r\n          errors.push(shareTotal);\r\n          let e = {};\r\n          e.type = \"numHeld\";\r\n          e.message = \"numHeld of a share must  be less than the total shares\";\r\n          setError(e);\r\n        }\r\n      }\r\n\r\n      if (errors.length === 0) {\r\n        setError({});\r\n        const item = [...mergeData];\r\n        item[2] = data;\r\n        setMergeData(item);\r\n\r\n        let d = [...directData];\r\n        d = [];\r\n        data.founderInfo.forEach((x) => {\r\n          if (x.onBoard) {\r\n            d.push({\r\n              personID: x.personID,\r\n              name: x.fname,\r\n              shareinfo: x.shareinfo,\r\n              nominee: \"Founder\",\r\n              quorum: 0,\r\n            });\r\n          }\r\n        });\r\n        setDirectData(d);\r\n        setStep(3);\r\n      }\r\n    }\r\n    if (step === 3)\r\n    {\r\n      setError({});\r\n      setOptOut(false);\r\n      if (control.value < 1 || control.value > 100) {\r\n        let e = {};\r\n        e.type = \"control\";\r\n        e.message = \"Majority Control must be a valid percentage between 1 and 100\";\r\n        setError(e);\r\n      }\r\n      else {\r\n        const item = [...mergeData];\r\n        item[3] = { control: control.value };\r\n        setMergeData(item);\r\n        setStep(4)\r\n      }\r\n      \r\n    }\r\n    if (step === 4) {\r\n      setError({ });\r\n      methods4.unregister(\"lawyer\")\r\n      console.log(data);\r\n      if (optOut === false) {\r\n        if (data.quorum <= directData.length) {\r\n          console.log(directData);\r\n          const direct = {\r\n            directInfo: [],\r\n          };\r\n\r\n          directData.map((x, i) => {\r\n            return (\r\n              direct.directInfo[i] = {\r\n                name: x.name,\r\n                personID: x.personID,\r\n                nominee: x.nominee,\r\n                shareinfo: x.shareinfo,\r\n                quorum: data.quorum,\r\n              }\r\n            )\r\n          });\r\n\r\n          const finalData = {\r\n            ...mergeData[0],\r\n            ...mergeData[1],\r\n            ...mergeData[2],\r\n            ...mergeData[3],\r\n            ...direct,\r\n            optOut: false\r\n          };\r\n          console.log(JSON.stringify(finalData, null, 2));\r\n          sendData(finalData);\r\n        } else {\r\n          let e = { };\r\n          console.log(\"Here\");\r\n          e.type = \"quorum\";\r\n          e.message = \"Quorum must be less than or equal to number of directors\";\r\n          setError(e);\r\n        }\r\n      } else {\r\n        const finalData = {\r\n          ...mergeData[0],\r\n          ...mergeData[1],\r\n          ...mergeData[2],\r\n          ...mergeData[3], \r\n          optOut: true\r\n        };\r\n        sendData(finalData);\r\n      }\r\n    }\r\n  };\r\n\r\n  const sendData = async (data) => {\r\n    console.log(JSON.stringify(data, null, 2));\r\n    const token = sessionStorage.getItem(\"xrsf\");\r\n    const config = {\r\n      headers: { Authorization: `Bearer ${token}` },\r\n    };\r\n\r\n    const newData = JSON.parse(localStorage.getItem(\"data\"));\r\n\r\n    const d = {\r\n      name: newData.agreeName,\r\n      data: data,\r\n    };\r\n\r\n    await axios.post(createAgreement, d, config).then((res) => {\r\n      console.log(res);\r\n      localStorage.removeItem(\"shareData\");\r\n      push(SLUGS.createShare + res.data.id);\r\n    });\r\n  };\r\n  const shareColumns = [\r\n    {\r\n      Header: \"Reference #\",\r\n      id: \"shareHeader\",\r\n      columns: [\r\n        {\r\n          Header: (\r\n            <HeaderComponent\r\n              title=\"Share ID\"\r\n              info=\"Share ID for better access to share information\"\r\n              id=\"shareID\"\r\n            />\r\n          ),\r\n          accessor: \"refNum\",\r\n          id: \"refNum\",\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      Header: \"Share Information\",\r\n      columns: [\r\n        {\r\n          Header: (\r\n            <HeaderComponent\r\n              title=\"Share Name\"\r\n              info=\"What is the name of the share?\"\r\n              id=\"share2\"\r\n            />\r\n          ),\r\n          accessor: \"shareName\",\r\n          id: \"ShareNum\",\r\n        },\r\n        {\r\n          Header: (\r\n            <HeaderComponent\r\n              title=\"Share Class\"\r\n              info=\"What is the class of the share?\"\r\n              id=\"share3\"\r\n            />\r\n          ),\r\n          accessor: \"shareClass\",\r\n          id: \"ShareClass\",\r\n        },\r\n        {\r\n          Header: (\r\n            <HeaderComponent\r\n              title=\"Share Type\"\r\n              info=\"What type fo share is the currently being referred to\"\r\n              id=\"share4\"\r\n            />\r\n          ),\r\n          accessor: \"shareType\",\r\n          id: \"ShareType\",\r\n        },\r\n        {\r\n          Header: (\r\n            <HeaderComponent\r\n              title=\"Share Total\"\r\n              info=\"What are the total amount of shares this company currently has?\"\r\n              id=\"share5\"\r\n            />\r\n          ),\r\n          accessor: \"shareTotal\",\r\n          id: \"ShareTotal\",\r\n        },\r\n      ],\r\n    }, \r\n  ];\r\n\r\n  const founderColumns = [\r\n    {\r\n      Header: \"Shares Held\",\r\n      accessor: \"sharesHeld\",\r\n    },\r\n\r\n    {\r\n      Header: \"Personal Information\",\r\n      id: \"personID\",\r\n    },\r\n    {\r\n      Header: \"Contact Information\", \r\n      id: \"contact\"\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <div>\r\n      {step === 0 && (\r\n        <FormProvider {...methods}>\r\n          <form\r\n            className=\"mediumForm\"\r\n            onSubmit={methods.handleSubmit(onSubmit)}\r\n          >\r\n            <h2>Create Agreement</h2>\r\n            <FormGroup>\r\n              <HeaderComponent\r\n                title=\"What is your company's Name?\"\r\n                info=\"Write Down Legal Company name, or Company you represent\"\r\n                id=\"compName\"\r\n              />\r\n              <Input\r\n                required\r\n                type=\"text\"\r\n                name=\"companyName\"\r\n                innerRef={methods.register}\r\n              />\r\n              <HeaderComponent\r\n                title=\"Who is your Company's main contact?\"\r\n                info=\"Enter the Full Legal Name of you Company's main contact\"\r\n                id=\"compContact\"\r\n              />\r\n              <Input\r\n                required\r\n                type=\"text\"\r\n                name=\"companyContact\"\r\n                innerRef={methods.register}\r\n              />\r\n              <HeaderComponent\r\n                title=\"What is your company's fax number\"\r\n                info=\"Enter the company Fax contact\"\r\n                id=\"compFax\"\r\n              />\r\n              <Input\r\n                required\r\n                type=\"tel\"\r\n                name=\"companyFax\"\r\n                innerRef={methods.register}\r\n              />\r\n              <HeaderComponent\r\n                title=\"What is your company's place of incorporation?\"\r\n                info=\"Is you Company located in Greater Canada or Ontario\"\r\n                id=\"compPlace\"\r\n              />\r\n              <Input\r\n                required\r\n                type=\"select\"\r\n                name=\"companyPlace\"\r\n                innerRef={methods.register}\r\n              >\r\n                <option>Canada</option>\r\n                <option>Ontario</option>\r\n              </Input>\r\n              <HeaderComponent\r\n                title=\"When was your company incorporated?\"\r\n                info=\"When was your company founded?\"\r\n                id=\"compDate\"\r\n              />\r\n              <Input\r\n                required\r\n                type=\"date\"\r\n                name=\"companyDate\"\r\n                innerRef={methods.register}\r\n              />\r\n              <button type=\"submit\" onClick={methods.handleSubmit(onSubmit)}>\r\n                Next Step\r\n              </button>\r\n            </FormGroup>\r\n          </form>\r\n        </FormProvider>\r\n      )}\r\n      {step === 1 && (\r\n        <FormProvider {...methods1}>\r\n          <form\r\n            className=\"largeForm\"\r\n            onSubmit={methods1.handleSubmit(onSubmit)}\r\n          >\r\n            <h2>Create Agreement</h2>\r\n            <FormGroup>\r\n              <Label for=\"sTable\">What Does Your Company Have?</Label>\r\n              <div className=\"Table\">\r\n                <Styles>\r\n                  <SharesTable\r\n                    columns={shareColumns}\r\n                    ref={methods1.register}\r\n                    data={shareInfo}\r\n                    setData={setShareInfo}\r\n                    methods={methods1}\r\n                    shareList={shareList}\r\n                    setShareList={setShareList}\r\n                  />\r\n                </Styles>\r\n              </div>\r\n              <button onClick={() => setStep(0)}>Go Back</button>\r\n              <button type=\"submit\" onClick={methods1.handleSubmit(onSubmit)}>\r\n                Next Step\r\n              </button>\r\n            </FormGroup>\r\n          </form>\r\n        </FormProvider>\r\n      )}\r\n      {step === 2 && (\r\n        <FormProvider {...methods2}>\r\n          <form\r\n            className=\"largeForm\"\r\n            onSubmit={methods2.handleSubmit(onSubmit)}\r\n          >\r\n            <h2>Create Agreement</h2>\r\n            <FormGroup>\r\n              <Label>Who are the Stakeholders?</Label>\r\n              {error && error.type && error.type === \"numHeld\" && (\r\n                <p>{error.message}</p>\r\n              )}\r\n              <div className=\"Table\">\r\n                <Styles>\r\n                  <FoundersTable\r\n                    columns={founderColumns}\r\n                    data={founderInfo}\r\n                    ref={methods2.register}\r\n                    methods={methods2}\r\n                    setData={setFounderInfo}\r\n                    shareData={shareInfo}\r\n                    inputList={inputList}\r\n                    setInputList={setInputList}\r\n                  />\r\n                </Styles>\r\n              </div>\r\n              <button onClick={() => setStep(1)}>Go Back</button>\r\n              <button type=\"submit\" onClick={methods2.handleSubmit(onSubmit)}>\r\n                Next Step\r\n              </button>\r\n            </FormGroup>\r\n          </form>\r\n        </FormProvider>\r\n      )}\r\n      {step === 3 && (\r\n        <div>\r\n          <FormProvider {...methods4}>\r\n            <form\r\n              className=\"mediumForm\"\r\n              onSubmit={methods4.handleSubmit(onSubmit)}\r\n            >\r\n              <h2>Create Agreement</h2>\r\n              <ControlQuest\r\n                methods={methods4}\r\n                data={control}\r\n                setData={setControl}\r\n              />\r\n              <button onClick={() => setStep(2)}>Go Back</button>\r\n              <button type=\"submit\" onClick={methods2.handleSubmit(onSubmit)}>\r\n                Next Step\r\n              </button>\r\n            </form>\r\n          </FormProvider>\r\n        </div>\r\n      )}\r\n      {step === 4 && (\r\n        <FormProvider {...methods3}>\r\n          <form\r\n            className=\"mediumForm\"\r\n            onSubmit={methods3.handleSubmit(onSubmit)}\r\n          >\r\n            <h2>Create Agreement</h2>\r\n            <Styles>\r\n              <DirectorsQuest\r\n                data={directData}\r\n                setData={setDirectData}\r\n                optOut={optOut}\r\n                setOptOut={setOptOut}\r\n                methods={methods3}\r\n              />\r\n\r\n              {error && error.type && error.type === \"quorum\" && (\r\n                <p>{error.message}</p>\r\n              )}\r\n            </Styles>\r\n            <button onClick={() => setStep(3)}>Go Back</button>\r\n            <button type=\"submit\">Finish</button>\r\n          </form>\r\n        </FormProvider>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\nexport default ShareAgreement;\r\n\r\nexport function HeaderComponent({ title, info, id }) {\r\n  const classes = useStyles();\r\n  const [tooltipOpen, setTooltipOpen] = useState(false);\r\n\r\n  const toggle = () => setTooltipOpen(!tooltipOpen);\r\n  return (\r\n    <div>\r\n      <label className={classes.spacing}>\r\n        {title}\r\n        {\"  \"}\r\n      </label>\r\n      <InfoIcon className={classes.iconSize} id={id} />\r\n      <Tooltip placement=\"top\" isOpen={tooltipOpen} target={id} toggle={toggle}>\r\n        {info}\r\n      </Tooltip>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst DirectorsQuest = React.forwardRef(\r\n  ({ data, optOut, methods, setData, setOptOut }, ref) => {\r\n    const directData = [...data];\r\n\r\n    const handleDirectChange = (i, e) => {\r\n      const { id, value } = e.target;\r\n      const list = [...data];\r\n      list[i][id] = value;\r\n      setData(list);\r\n    };\r\n    return directData.length > 0 ? (\r\n      <div>\r\n        {directData.map((x, i) => {\r\n          return (\r\n            <div key={i}>\r\n              <label>\r\n                Director {i + 1} is {x.name} nominated by the\r\n              </label>\r\n              <Input\r\n                required\r\n                id=\"nominee\"\r\n                name={`directorInfo[${i}][nominee]`}\r\n                type=\"select\"\r\n                onChange={(e) => handleDirectChange(i, e)}\r\n                value={data[i].nominee}\r\n                innerRef={methods.register}\r\n              >\r\n                <option>Founder</option>\r\n                <option>Common</option>\r\n                <option>Preferred</option>\r\n              </Input>\r\n            </div>\r\n          );\r\n        })}\r\n        <label>\r\n          What is the minimum number of Directors required to reach quorum?\r\n        </label>\r\n\r\n        <Input\r\n          required\r\n          type=\"number\"\r\n          name=\"quorum\"\r\n          innerRef={methods.register}\r\n        />\r\n      </div>\r\n    ) : (\r\n      <div>\r\n        <label>\r\n          You have not selected any directors, Do you wish to opt out\r\n        </label>\r\n        {!optOut && (\r\n          <button required onClick={() => setOptOut(true)}>\r\n            Opt out\r\n          </button>\r\n        )}\r\n          {optOut && (\r\n            <p>You have chosen to opt out</p>\r\n        )}\r\n      </div>\r\n    );\r\n  }\r\n);\r\n\r\nconst ControlQuest = ({ methods, data, setData }, props) => {\r\n\r\n  const numChange = methods.watch(\"change\", props.change);\r\n  const numLawyers = methods.watch(\"lawyer\", props.lawyer);\r\n  \r\n  const handleControlChange = (e) => {\r\n    setData({value: e.target.value})\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <label htmlFor=\"yes\">Would you like to change this number?</label>\r\n      <br />\r\n      <input type=\"radio\" name=\"change\" value={1} ref={methods.register} />\r\n      <label style={{ paddingLeft: 10, paddingRight: 10 }}>Yes</label>\r\n\r\n      <input type=\"radio\" name=\"change\" value={0} ref={methods.register} />\r\n      <label style={{ paddingLeft: 10 }}>No</label>\r\n      {numChange > 0 && (\r\n        <div>\r\n          <label>Would you like to contact your Lawyer</label>\r\n          <fieldset id=\"g2\">\r\n            <input\r\n              type=\"radio\"\r\n              id=\"ask-lawyer\"\r\n              value={0}\r\n              name=\"lawyer\"\r\n              ref={methods.register}\r\n            />\r\n            <label style={{ paddingLeft: 10, paddingRight: 10 }}>Yes</label>\r\n            <input\r\n              type=\"radio\"\r\n              id=\"ask-lawyer\"\r\n              value={1}\r\n              name=\"lawyer\"\r\n              ref={methods.register}\r\n            />\r\n            <label style={{ paddingLeft: 10 }}>No</label>\r\n          </fieldset>\r\n        </div>\r\n      )}\r\n      {numChange > 0 && numLawyers > 0 && (\r\n        <div>\r\n          <p>\r\n            Control means: (a) with respect to any corporation, the ownership,\r\n            beneficially and legally of voting securities in the capital of such\r\n            corporation, to which are attached more than fifty (\r\n            {data.value}%) of the votes that may be cast to elect the\r\n            directors of such corporation and such votes are sufficient (if\r\n            exercised) to elect a majority of the directors; and (b) with\r\n            respect to a partnership, trust, syndicate, or other entity, actual\r\n            power or authority to manage and direct the affairs of, or ownership\r\n            of more than fifty ({data.value}%) of the beneficial\r\n            interest of such entity.\r\n          </p>\r\n\r\n          <InputGroupAddon addonType=\"append\">\r\n            <Input\r\n              name=\"majorityControl\"\r\n              type=\"number\"\r\n              min=\"1\"\r\n              max=\"100\"\r\n              onChange={(e) => handleControlChange(e)}\r\n              value={data.value}\r\n              innerRef={methods.register({\r\n                min: 1,\r\n                max: 100,\r\n              })}\r\n            />\r\n            <InputGroupText>%</InputGroupText>\r\n          </InputGroupAddon>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}; \r\n"]},"metadata":{},"sourceType":"module"}