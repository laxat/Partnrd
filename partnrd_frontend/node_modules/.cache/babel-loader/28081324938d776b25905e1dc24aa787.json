{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\Partnr\\\\partnrd\\\\partnrd_frontend\\\\src\\\\pages\\\\Templates\\\\ShareAgreement\\\\CreateShareAgreement.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Column, Row } from \"simple-flexbox\";\nimport CreateButton from \"../../../components/CreateButton\";\nimport { createUseStyles } from \"react-jss\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { Paper } from \"@material-ui/core\";\nimport { useParams } from \"react-router\";\nimport SLUGS from \"../../../resources/slugs\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = createUseStyles({\n  lastRow: {\n    marginTop: 30\n  },\n  paperStyle: {\n    paddingTop: 60,\n    paddingLeft: 30,\n    paddingRight: 30,\n    paddingBottom: 60,\n    marginLeft: 60,\n    marginRight: 60,\n    marginBottom: 50\n  }\n});\nexport function CreateShareAgreement() {\n  _s();\n\n  const {\n    id\n  } = useParams();\n  const {\n    push\n  } = useHistory(); // const { corpName, corpPlace, corpDate } = \"\";\n  // const { shareData, personData } = [];\n\n  const classes = useStyles();\n  const token = sessionStorage.getItem(\"xrsf\");\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  const api = `http://localhost:8000/api/agreements/${id}`;\n  const [formData, setFormData] = useState([]);\n  const [isLoading, setIsLoading] = useState({\n    loading: false\n  });\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = async () => {\n    setIsLoading(true);\n    const d = await axios.get(api, config).then(res => {\n      setFormData(res.data);\n      console.log(res);\n      setIsLoading(false);\n    }).catch(err => {\n      console.log(err);\n      push(SLUGS.agreements);\n    });\n  };\n\n  return !isLoading ? /*#__PURE__*/_jsxDEV(Row, {\n    horizontal: \"flex-start\",\n    children: [formData && formData[0] && /*#__PURE__*/_jsxDEV(\"span\", {\n      children: formData[0].name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 36\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Row, {\n        vertical: \"center\",\n        horizontal: \"end\",\n        children: /*#__PURE__*/_jsxDEV(CreateButton, {\n          label: \"Download\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Row, {\n        className: classes.lastRow,\n        children: /*#__PURE__*/_jsxDEV(DisplayData, {\n          data: formData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CreateShareAgreement, \"r/Jn+/KfMsnmZ3hCPNqtIetDis8=\", false, function () {\n  return [useParams, useHistory, useStyles];\n});\n\n_c = CreateShareAgreement;\n\nfunction DisplayData({\n  data\n}) {\n  _s2();\n\n  const classes = useStyles();\n  const val = JSON.parse(data[0].data);\n  const corpName = val.companyName;\n  const corpPlace = val.companyPlace;\n  const corpDate = val.companyDate;\n  const shareData = [];\n  const personData = [];\n  const founderData = [];\n  val.shareInfo.map((x, i) => {\n    return shareData[i] = {\n      shareID: x.shareID,\n      shareName: x.shareName,\n      shareClass: x.shareClass,\n      shareType: x.shareType,\n      shareTotal: x.shareTotal\n    };\n  });\n  val.founderInfo.map((x, i) => {\n    return personData[i] = {\n      personID: x.personID,\n      name: {\n        fname: x.fname,\n        prefName: x.preferredName\n      },\n      phone: x.phone,\n      email: x.email,\n      address: [x.streetName, x.provinceName, x.cityName, x.postalCode],\n      IsCompany: [x.role, x.corpName],\n      Ownership: x.shareinfo,\n      IsBoard: x.onBoard\n    };\n  });\n  val.founderInfo.map((x, i) => {\n    if (x.role === \"Founder\") {\n      founderData[i] = {\n        personID: x.personID,\n        name: {\n          fname: x.fname,\n          prefName: x.preferredName\n        },\n        phone: x.phone,\n        email: x.email,\n        address: [x.streetName, x.provinceName, x.cityName, x.postalCode],\n        IsCompany: [x.role, x.corpName],\n        Ownership: x.shareinfo,\n        IsBoard: x.onBoard\n      };\n    }\n\n    ;\n  });\n  console.log(founderData);\n\n  const Beginning = function () {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n        style: {},\n        children: [\"SHAREHOLDERS AGREEMENT OF \", corpName.toUpperCase()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"THIS AGREEMENT (the \\u201CAgreement\\u201D), is made as of \", corpDate, \", between\", \" \", corpName, \", a corporation incorporated under the laws of \", corpPlace, \" \", \"(the \\u201CCorporation\\u201D);\", personData.map(x => {\n          return `\n              ${x.name.fname},\n              an individual residing in the City of\n              ${x.address[2]},\n              ${!x.name.prefName ? `${x.address[1]};` : `${x.address[1]} (\"${x.name.prefName}\");`} `;\n        }), \"each investor being listed on Schedule \\u201CA\\u201D annexed hereto, and any person who becomes a party hereto by executing an acknowledgement in the form annexed hereto as Schedule \\u201CB\\u201D.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this);\n  };\n\n  const Recitals = function () {\n    return (\n      /*#__PURE__*/\n      // <View style={styles.section}\n      _jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n          children: \"Recitals\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: ['\\t', \"WHEREAS the Parties to this Agreement, other than the Corporation, together own, directly or indirectly, all of the issued and outstanding shares in the capital of the Corporation as of the date of this Agreement; AND WHEREAS the Parties to this Agreement wish to record their agreement as to the manner in which the Corporation\\u2019s affairs are to be conducted and to agree upon the terms on which the securities of the Corporation, now or hereafter outstanding and held by them, will be held, transferred and voted; NOW THEREFORE THIS AGREEMENT WITNESSES, that in consideration of the premises and mutual covenants and agreements contained in this Agreement, the parties covenant and agree as follows:\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 7\n      }, this) // </View>\n\n    );\n  }; // console.log(beginning())\n\n\n  const Articles = function () {\n    const corpAct = corpPlace === \"Canada\" ? `CBCA (\"Canada Business Corporations Act\")` : \"OBCA (Business Corporations Act of Ontario)\";\n    const founder = founderData.length > 1 ? `\"Founders\" means``${founderData.map((x, i) => {\n      return `${i == founderData.length - 1 ? `and ${x.name.fname}` : `${x.name.fname}`}`;\n    })} and \"Founder\" shalll mean any one of them` : `Founder means ${founderData[0].name.fname}`;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: corpAct\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: founder\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Column, {\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      elevation: 0,\n      className: classes.paperStyle,\n      children: [/*#__PURE__*/_jsxDEV(Beginning, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Recitals, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Articles, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 218,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(DisplayData, \"8g5FPXexvSEOsxdmU7HicukHGqY=\", false, function () {\n  return [useStyles];\n});\n\n_c2 = DisplayData;\n;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CreateShareAgreement\");\n$RefreshReg$(_c2, \"DisplayData\");","map":{"version":3,"sources":["C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/src/pages/Templates/ShareAgreement/CreateShareAgreement.js"],"names":["React","useEffect","useState","Column","Row","CreateButton","createUseStyles","axios","useHistory","Paper","useParams","SLUGS","useStyles","lastRow","marginTop","paperStyle","paddingTop","paddingLeft","paddingRight","paddingBottom","marginLeft","marginRight","marginBottom","CreateShareAgreement","id","push","classes","token","sessionStorage","getItem","config","headers","Authorization","api","formData","setFormData","isLoading","setIsLoading","loading","getData","d","get","then","res","data","console","log","catch","err","agreements","name","DisplayData","val","JSON","parse","corpName","companyName","corpPlace","companyPlace","corpDate","companyDate","shareData","personData","founderData","shareInfo","map","x","i","shareID","shareName","shareClass","shareType","shareTotal","founderInfo","personID","fname","prefName","preferredName","phone","email","address","streetName","provinceName","cityName","postalCode","IsCompany","role","Ownership","shareinfo","IsBoard","onBoard","Beginning","toUpperCase","Recitals","Articles","corpAct","founder","length"],"mappings":"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","sourcesContent":["import React, { useEffect, useState} from \"react\";\r\nimport { Column, Row } from \"simple-flexbox\";\r\nimport CreateButton from \"../../../components/CreateButton\";\r\nimport { createUseStyles } from \"react-jss\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Paper } from \"@material-ui/core\"; \r\nimport { useParams } from \"react-router\";\r\nimport SLUGS from \"../../../resources/slugs\";\r\n\r\n\r\nconst useStyles = createUseStyles({\r\n  \r\n  lastRow: {\r\n    marginTop: 30,\r\n  },\r\n\r\n  paperStyle: {\r\n    paddingTop: 60,\r\n    paddingLeft: 30,\r\n    paddingRight: 30,\r\n    paddingBottom: 60, \r\n    marginLeft: 60,\r\n    marginRight: 60,\r\n    marginBottom: 50\r\n  }\r\n});\r\n\r\nexport function CreateShareAgreement() {\r\n\r\n  const { id } = useParams();\r\n  const { push } = useHistory(); \r\n  // const { corpName, corpPlace, corpDate } = \"\";\r\n  // const { shareData, personData } = [];\r\n\r\n  const classes = useStyles(); \r\n  const token = sessionStorage.getItem(\"xrsf\");\r\n  const config = {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  };\r\n  const api = `http://localhost:8000/api/agreements/${id}`;\r\n\r\n  const [formData, setFormData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState({\r\n    loading: false\r\n  })\r\n\r\n  useEffect(() => {\r\n    getData();\r\n  }, [])\r\n\r\n  const getData = async () => {\r\n    setIsLoading(true); \r\n    const d = await axios\r\n      .get(api, config)\r\n      .then((res) => {\r\n        setFormData(res.data);\r\n        console.log(res);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n        push(SLUGS.agreements)\r\n      })\r\n  }\r\n\r\n  return !isLoading ? (\r\n    <Row horizontal=\"flex-start\">\r\n      {formData && formData[0] && (<span>{formData[0].name}</span>)}\r\n      <Row>\r\n        <Row vertical=\"center\" horizontal=\"end\">\r\n          <CreateButton label=\"Download\" />\r\n        </Row>\r\n        <Row className={classes.lastRow}>\r\n          <DisplayData data={formData} />\r\n        </Row>\r\n      </Row>\r\n    </Row>\r\n  ) : (\r\n    <div>Loading...</div>\r\n  );\r\n}\r\n\r\nfunction DisplayData({ data } )\r\n{\r\n  const classes = useStyles(); \r\n  const val = JSON.parse(data[0].data);\r\n  const corpName = val.companyName;\r\n  const corpPlace = val.companyPlace;\r\n  const corpDate = val.companyDate;\r\n  const shareData = [];\r\n  const personData = [];\r\n  const founderData = [];\r\n  \r\n  \r\n  val.shareInfo.map((x, i) => {\r\n    return (shareData[i] = {\r\n      shareID: x.shareID,\r\n      shareName: x.shareName,\r\n      shareClass: x.shareClass,\r\n      shareType: x.shareType,\r\n      shareTotal: x.shareTotal\r\n    });\r\n  });\r\n\r\n  val.founderInfo.map((x, i) => {\r\n    return (personData[i] = {\r\n      personID: x.personID,\r\n      name: {\r\n        fname: x.fname,\r\n        prefName: x.preferredName\r\n      },\r\n      phone: x.phone,\r\n      email: x.email,\r\n      address: [x.streetName, x.provinceName, x.cityName, x.postalCode],\r\n      IsCompany: [x.role, x.corpName],\r\n      Ownership: x.shareinfo,\r\n      IsBoard: x.onBoard,\r\n      \r\n    });\r\n  });\r\n\r\n  val.founderInfo.map((x, i) => {\r\n    if (x.role === \"Founder\") {\r\n        founderData[i] = {\r\n          personID: x.personID,\r\n          name: {\r\n            fname: x.fname,\r\n            prefName: x.preferredName\r\n          },\r\n          phone: x.phone,\r\n          email: x.email,\r\n          address: [x.streetName, x.provinceName, x.cityName, x.postalCode],\r\n          IsCompany: [x.role, x.corpName],\r\n          Ownership: x.shareinfo,\r\n          IsBoard: x.onBoard,\r\n        }\r\n    };\r\n  });\r\n\r\n  console.log(founderData); \r\n  \r\n  const Beginning = function() {\r\n  \r\n    return (\r\n      <div>\r\n        <h6 style={{}}>SHAREHOLDERS AGREEMENT OF {corpName.toUpperCase()}</h6>\r\n        <p>\r\n          THIS AGREEMENT (the “Agreement”), is made as of {corpDate}, between{\" \"}\r\n          {corpName}, a corporation incorporated under the laws of {corpPlace}{\" \"}\r\n          (the “Corporation”);\r\n          {personData.map((x) => {\r\n            return `\r\n              ${x.name.fname},\r\n              an individual residing in the City of\r\n              ${x.address[2]},\r\n              ${\r\n                !x.name.prefName\r\n                  ? `${x.address[1]};`\r\n                  : `${x.address[1]} (\"${x.name.prefName}\");`\r\n              } `;\r\n          })}\r\n          each investor being listed on Schedule “A” annexed hereto, and any\r\n          person who becomes a party hereto by executing an acknowledgement in\r\n          the form annexed hereto as Schedule “B”.\r\n        </p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const Recitals = function () {\r\n    return (\r\n      // <View style={styles.section}\r\n      <div>\r\n        <h6>Recitals</h6>\r\n        <p>\r\n          {'\\t'}WHEREAS the Parties to this Agreement, other than the Corporation,\r\n          together own, directly or indirectly, all of the issued and\r\n          outstanding shares in the capital of the Corporation as of the date of\r\n          this Agreement; AND WHEREAS the Parties to this Agreement wish to\r\n          record their agreement as to the manner in which the Corporation’s\r\n          affairs are to be conducted and to agree upon the terms on which the\r\n          securities of the Corporation, now or hereafter outstanding and held\r\n          by them, will be held, transferred and voted; NOW THEREFORE THIS\r\n          AGREEMENT WITNESSES, that in consideration of the premises and mutual\r\n          covenants and agreements contained in this Agreement, the parties\r\n          covenant and agree as follows:\r\n        </p>\r\n      </div>\r\n      // </View>\r\n    );\r\n  }\r\n  // console.log(beginning())\r\n\r\n  const Articles = function () {\r\n    const corpAct = corpPlace === \"Canada\" ? `CBCA (\"Canada Business Corporations Act\")` :\r\n      \"OBCA (Business Corporations Act of Ontario)\";\r\n    const founder = founderData.length > 1 ? `\"Founders\" means`\r\n      `${founderData.map((x, i) => {\r\n        return `${i == founderData.length - 1\r\n            ? `and ${x.name.fname}`\r\n            : `${x.name.fname}`\r\n          }`;\r\n        \r\n      })\r\n      } and \"Founder\" shalll mean any one of them`\r\n      : `Founder means ${founderData[0].name.fname}`;\r\n    return (\r\n      <div>\r\n        <p>{corpAct}</p>\r\n        <p>{founder }</p>\r\n      </div>\r\n    );\r\n  }\r\n  \r\n  \r\n  return (\r\n    <Column>\r\n      <Paper elevation={0} className={classes.paperStyle}>\r\n        <Beginning />\r\n        <Recitals/>\r\n        <Articles />\r\n      </Paper>\r\n    </Column>\r\n  );\r\n};"]},"metadata":{},"sourceType":"module"}