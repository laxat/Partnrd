{"ast":null,"code":"var _jsxFileName = \"C:\\\\xampp\\\\htdocs\\\\Partnr\\\\partnrd\\\\partnrd_frontend\\\\src\\\\components\\\\Header\\\\HeaderComponent.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { string } from \"prop-types\";\nimport { Row } from \"simple-flexbox\";\nimport { useHistory } from \"react-router-dom\";\nimport { createUseStyles, useTheme } from \"react-jss\";\nimport { SidebarContext } from \"../Sidebar/useSidebar\";\nimport DropdownComponent from \"../Dropdown/DropdownComponent\";\nimport SLUGS from \"../../resources/slugs\";\nimport standIn from \"../../assets/hourglass-icon.jpg\";\nimport { convertSlugUrl } from \"../../resources/utils\";\nimport Gravatar from \"react-gravatar\";\nimport ArrowDownIcon from \"@material-ui/icons/ArrowDown\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = createUseStyles(theme => ({\n  avatar: {\n    display: \"block\",\n    overflow: \"hidden\",\n    textOverflow: \"ellipsis\",\n    height: 35,\n    width: 35,\n    minWidth: 35,\n    borderRadius: 50,\n    marginRight: 10,\n    border: `1px solid rgb(0 0 0 / 15%)`,\n    \"@media (max-width: 768px)\": {\n      marginLeft: 7\n    }\n  },\n  container: {\n    height: 70,\n    backgroundColor: \"#FFFFFF\",\n    width: \"100vw\",\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    boxShadow: \"0 1px 0 rgb(0 0 0 / 15%)\"\n  },\n  name: { ...theme.typography.itemTitle,\n    textAlign: \"right\",\n    \"@media (max-width: 768px)\": {\n      display: \"none\"\n    },\n    marginRight: 35\n  },\n  title: { ...theme.typography.title,\n    \"@media (max-width: 1080px)\": {\n      marginLeft: 70\n    },\n    \"@media (max-width: 468px)\": {\n      fontSize: 20\n    },\n    paddingLeft: 40\n  },\n  iconStyles: {\n    cursor: \"pointer\",\n    marginLeft: 25,\n    \"@media (max-width: 768px)\": {\n      marginLeft: 12\n    }\n  }\n}));\n\nfunction HeaderComponent() {\n  _s();\n\n  const theme = useTheme();\n  const {\n    push\n  } = useHistory();\n  const classes = useStyles({\n    theme\n  });\n  const [user, setUser] = useState([]);\n\n  function onClick(slug, parameters = {}) {\n    push(convertSlugUrl(slug, parameters));\n  }\n\n  const token = sessionStorage.getItem(\"xrsf\");\n  const api = \"http://localhost:8000/api/user\";\n  const config = {\n    headers: {\n      Authorization: `Bearer ${token}`\n    }\n  };\n  useEffect(() => {\n    getUser();\n  }, []);\n\n  const getUser = async () => {\n    const data = await axios.get(api, config).then(res => {\n      console.log(res.data);\n      setUser(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  async function logout() {\n    sessionStorage.clear();\n    localStorage.clear();\n    onClick(SLUGS.login);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Row, {\n    className: classes.container,\n    vertical: \"center\",\n    horizontal: \"space-between\",\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      className: classes.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      vertical: \"center\",\n      children: /*#__PURE__*/_jsxDEV(DropdownComponent, {\n        label: /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Gravatar, {\n            email: user.email,\n            size: 100,\n            rating: \"pg\",\n            default: \"retro\",\n            className: \"CustomAvatar-image\",\n            style: {\n              margin: \"10px\"\n            },\n            protocol: \"https://\",\n            className: classes.avatar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: classes.name,\n            children: user.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ArrowDownIcon, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true),\n        options: [{\n          label: \"Edit Profile\",\n          onClick: () => onClick(SLUGS.settings)\n        }, {\n          label: \"Logout\",\n          onClick: () => logout()\n        }],\n        position: {\n          top: 52,\n          right: 20\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, this);\n}\n\n_s(HeaderComponent, \"rmGrT+BHyQig3BmMwZMs3fzZzxM=\", false, function () {\n  return [useTheme, useHistory, useStyles];\n});\n\n_c = HeaderComponent;\nHeaderComponent.propTypes = {\n  title: string\n};\nexport default HeaderComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"HeaderComponent\");","map":{"version":3,"sources":["C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/src/components/Header/HeaderComponent.js"],"names":["React","useState","useEffect","axios","string","Row","useHistory","createUseStyles","useTheme","SidebarContext","DropdownComponent","SLUGS","standIn","convertSlugUrl","Gravatar","ArrowDownIcon","useStyles","theme","avatar","display","overflow","textOverflow","height","width","minWidth","borderRadius","marginRight","border","marginLeft","container","backgroundColor","position","top","right","boxShadow","name","typography","itemTitle","textAlign","title","fontSize","paddingLeft","iconStyles","cursor","HeaderComponent","push","classes","user","setUser","onClick","slug","parameters","token","sessionStorage","getItem","api","config","headers","Authorization","getUser","data","get","then","res","console","log","catch","err","logout","clear","localStorage","login","email","margin","label","settings","propTypes"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport axios from \"axios\";\r\nimport { string } from \"prop-types\";\r\nimport { Row } from \"simple-flexbox\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { createUseStyles, useTheme } from \"react-jss\";\r\nimport { SidebarContext } from \"../Sidebar/useSidebar\";\r\nimport DropdownComponent from \"../Dropdown/DropdownComponent\";\r\nimport SLUGS from \"../../resources/slugs\";\r\nimport standIn from \"../../assets/hourglass-icon.jpg\";\r\nimport { convertSlugUrl } from \"../../resources/utils\";\r\nimport Gravatar from \"react-gravatar\";\r\nimport ArrowDownIcon from \"@material-ui/icons/ArrowDown\";\r\n\r\nconst useStyles = createUseStyles((theme) => ({\r\n  avatar: {\r\n    display: \"block\",\r\n    overflow: \"hidden\",\r\n    textOverflow: \"ellipsis\",\r\n    height: 35,\r\n    width: 35,\r\n    minWidth: 35,\r\n    borderRadius: 50,\r\n    marginRight: 10,\r\n    border: `1px solid rgb(0 0 0 / 15%)`,\r\n    \"@media (max-width: 768px)\": {\r\n      marginLeft: 7,\r\n    },\r\n  },\r\n  container: {\r\n    height: 70,\r\n    backgroundColor: \"#FFFFFF\",\r\n    width: \"100vw\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    boxShadow: \"0 1px 0 rgb(0 0 0 / 15%)\",\r\n  },\r\n  name: {\r\n    ...theme.typography.itemTitle,\r\n    textAlign: \"right\",\r\n    \"@media (max-width: 768px)\": {\r\n      display: \"none\",\r\n    },\r\n    marginRight: 35,\r\n  },\r\n  title: {\r\n    ...theme.typography.title,\r\n    \"@media (max-width: 1080px)\": {\r\n      marginLeft: 70,\r\n    },\r\n    \"@media (max-width: 468px)\": {\r\n      fontSize: 20,\r\n    },\r\n    paddingLeft: 40,\r\n  },\r\n  iconStyles: {\r\n    cursor: \"pointer\",\r\n    marginLeft: 25,\r\n    \"@media (max-width: 768px)\": {\r\n      marginLeft: 12,\r\n    },\r\n  },\r\n}));\r\n\r\nfunction HeaderComponent() {\r\n  const theme = useTheme();\r\n  const { push } = useHistory();\r\n  const classes = useStyles({ theme });\r\n  const [user, setUser] = useState([]);\r\n\r\n  function onClick(slug, parameters = {}) {\r\n    push(convertSlugUrl(slug, parameters));\r\n  }\r\n\r\n  const token = sessionStorage.getItem(\"xrsf\");\r\n  const api = \"http://localhost:8000/api/user\";\r\n  const config = {\r\n    headers: { Authorization: `Bearer ${token}` },\r\n  };\r\n\r\n  useEffect(() => {\r\n    getUser();\r\n  }, []);\r\n\r\n  const getUser = async () => {\r\n    const data = await axios\r\n      .get(api, config)\r\n      .then((res) => {\r\n        console.log(res.data);\r\n        setUser(res.data);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  async function logout() {\r\n    sessionStorage.clear();\r\n    localStorage.clear();\r\n    onClick(SLUGS.login);\r\n  }\r\n  return (\r\n    <Row\r\n      className={classes.container}\r\n      vertical=\"center\"\r\n      horizontal=\"space-between\"\r\n    >\r\n      <span className={classes.title}></span>\r\n      <Row vertical=\"center\">\r\n        <DropdownComponent\r\n          label={\r\n            <>\r\n              <Gravatar\r\n                email={user.email}\r\n                size={100}\r\n                rating=\"pg\"\r\n                default=\"retro\"\r\n                className=\"CustomAvatar-image\"\r\n                style={{ margin: \"10px\" }}\r\n                protocol=\"https://\"\r\n                className={classes.avatar}\r\n              />\r\n              <span className={classes.name}>{user.name}</span>\r\n              <ArrowDownIcon />\r\n            </>\r\n          }\r\n          options={[\r\n            {\r\n              label: \"Edit Profile\",\r\n              onClick: () => onClick(SLUGS.settings),\r\n            },\r\n\r\n            {\r\n              label: \"Logout\",\r\n              onClick: () => logout(),\r\n            },\r\n          ]}\r\n          position={{\r\n            top: 52,\r\n            right: 20,\r\n          }}\r\n        />\r\n      </Row>\r\n    </Row>\r\n  );\r\n}\r\n\r\nHeaderComponent.propTypes = {\r\n  title: string,\r\n};\r\n\r\nexport default HeaderComponent;\r\n"]},"metadata":{},"sourceType":"module"}