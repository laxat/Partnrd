{"ast":null,"code":"import _slicedToArray from\"C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext,createContext}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";export var SidebarContext=/*#__PURE__*/createContext();export function SidebarProvider(_ref){var children=_ref.children,defaultItem=_ref.defaultItem;var _useState=useState(defaultItem),_useState2=_slicedToArray(_useState,2),currentItem=_useState2[0],setCurrentItem=_useState2[1];useEffect(function(){if(defaultItem!==currentItem){return setCurrentItem(defaultItem);}},[currentItem,defaultItem]);return/*#__PURE__*/_jsx(SidebarContext.Provider,{value:{currentItem:currentItem,setCurrentItem:setCurrentItem},children:children});}export var useSidebar=function useSidebar(){var _ref2=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{},isCollapsible=_ref2.isCollapsible,item=_ref2.item,_ref2$items=_ref2.items,items=_ref2$items===void 0?[]:_ref2$items;var _useContext=useContext(SidebarContext),currentItem=_useContext.currentItem,setCurrentItem=_useContext.setCurrentItem;var isActive=item===currentItem||items.includes(currentItem);var _useState3=useState(isActive),_useState4=_slicedToArray(_useState3,2),isExpanded=_useState4[0],setIsExpanded=_useState4[1];useEffect(function(){if(!isActive&&isExpanded){return setIsExpanded(false);}if(isActive&&!isExpanded){return setIsExpanded(true);}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[currentItem]);var onItemClick=function onItemClick(){if(!isCollapsible){setCurrentItem(item);}setIsExpanded(function(prev){return!prev;});};return{isExpanded:isExpanded,isActive:isActive,onItemClick:onItemClick};};","map":{"version":3,"sources":["C:/xampp/htdocs/Partnr/partnrd/partnrd_frontend/src/components/Sidebar/useSidebar.js"],"names":["React","useState","useEffect","useContext","createContext","SidebarContext","SidebarProvider","children","defaultItem","currentItem","setCurrentItem","useSidebar","isCollapsible","item","items","isActive","includes","isExpanded","setIsExpanded","onItemClick","prev"],"mappings":"sKAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,UAArC,CAAiDC,aAAjD,KAAsE,OAAtE,C,2CAEA,MAAO,IAAMC,CAAAA,cAAc,cAAGD,aAAa,EAApC,CAEP,MAAO,SAASE,CAAAA,eAAT,MAAoD,IAAzBC,CAAAA,QAAyB,MAAzBA,QAAyB,CAAfC,WAAe,MAAfA,WAAe,CACzD,cAAsCP,QAAQ,CAACO,WAAD,CAA9C,wCAAOC,WAAP,eAAoBC,cAApB,eACAR,SAAS,CAAC,UAAM,CACd,GAAIM,WAAW,GAAKC,WAApB,CAAiC,CAC/B,MAAOC,CAAAA,cAAc,CAACF,WAAD,CAArB,CACD,CACF,CAJQ,CAIN,CAACC,WAAD,CAAcD,WAAd,CAJM,CAAT,CAKA,mBACE,KAAC,cAAD,CAAgB,QAAhB,EAAyB,KAAK,CAAE,CAC9BC,WAAW,CAAXA,WAD8B,CAE9BC,cAAc,CAAdA,cAF8B,CAAhC,UAIGH,QAJH,EADF,CAQD,CAED,MAAO,IAAMI,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAA8C,qEAAP,EAAO,CAA3CC,aAA2C,OAA3CA,aAA2C,CAA5BC,IAA4B,OAA5BA,IAA4B,mBAAtBC,KAAsB,CAAtBA,KAAsB,sBAAd,EAAc,aACtE,gBAAwCX,UAAU,CAACE,cAAD,CAAlD,CAAQI,WAAR,aAAQA,WAAR,CAAqBC,cAArB,aAAqBA,cAArB,CACA,GAAMK,CAAAA,QAAQ,CAAGF,IAAI,GAAKJ,WAAT,EAAwBK,KAAK,CAACE,QAAN,CAAeP,WAAf,CAAzC,CACA,eAAoCR,QAAQ,CAACc,QAAD,CAA5C,yCAAOE,UAAP,eAAmBC,aAAnB,eAEAhB,SAAS,CAAC,UAAM,CACd,GAAI,CAACa,QAAD,EAAaE,UAAjB,CAA6B,CAC3B,MAAOC,CAAAA,aAAa,CAAC,KAAD,CAApB,CACD,CACD,GAAIH,QAAQ,EAAI,CAACE,UAAjB,CAA6B,CAC3B,MAAOC,CAAAA,aAAa,CAAC,IAAD,CAApB,CACD,CACD;AACD,CARQ,CAQN,CAACT,WAAD,CARM,CAAT,CAUA,GAAMU,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAI,CAACP,aAAL,CAAoB,CAClBF,cAAc,CAACG,IAAD,CAAd,CACD,CACDK,aAAa,CAAC,SAACE,IAAD,QAAU,CAACA,IAAX,EAAD,CAAb,CACD,CALD,CAOA,MAAO,CACLH,UAAU,CAAVA,UADK,CAELF,QAAQ,CAARA,QAFK,CAGLI,WAAW,CAAXA,WAHK,CAAP,CAKD,CA3BM","sourcesContent":["import React, { useState, useEffect, useContext, createContext } from \"react\";\r\n\r\nexport const SidebarContext = createContext();\r\n\r\nexport function SidebarProvider({ children, defaultItem }) {\r\n  const [currentItem, setCurrentItem] = useState(defaultItem);\r\n  useEffect(() => {\r\n    if (defaultItem !== currentItem) {\r\n      return setCurrentItem(defaultItem);\r\n    }\r\n  }, [currentItem, defaultItem]);\r\n  return (\r\n    <SidebarContext.Provider value={{\r\n      currentItem,\r\n      setCurrentItem\r\n    }}>\r\n      {children}\r\n    </SidebarContext.Provider>\r\n  );\r\n}\r\n\r\nexport const useSidebar = ({ isCollapsible, item, items = [] } = {}) => {\r\n  const { currentItem, setCurrentItem } = useContext(SidebarContext);\r\n  const isActive = item === currentItem || items.includes(currentItem);\r\n  const [isExpanded, setIsExpanded] = useState(isActive);\r\n\r\n  useEffect(() => {\r\n    if (!isActive && isExpanded) {\r\n      return setIsExpanded(false);\r\n    }\r\n    if (isActive && !isExpanded) {\r\n      return setIsExpanded(true);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentItem]);\r\n\r\n  const onItemClick = () => {\r\n    if (!isCollapsible) {\r\n      setCurrentItem(item);\r\n    }\r\n    setIsExpanded((prev) => !prev);\r\n  };\r\n\r\n  return {\r\n    isExpanded,\r\n    isActive,\r\n    onItemClick\r\n  };\r\n};\r\n"]},"metadata":{},"sourceType":"module"}